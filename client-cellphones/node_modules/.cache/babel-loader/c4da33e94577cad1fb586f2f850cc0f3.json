{"ast":null,"code":"var _jsxFileName = \"D:\\\\STUDY\\\\PTIT\\\\NAM_4\\\\KI_1\\\\LT_WEB\\\\BTL_GiuaKy\\\\cellphons\\\\client-cellphones\\\\src\\\\components\\\\ImageWithFallback.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction createSvgPlaceholder() {\n  let text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Image';\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    width = 1200,\n    height = 600,\n    bg = '#EEF2FF',\n    fg = '#1E40AF',\n    subfg = '#475569'\n  } = options;\n  const safeText = (text || 'Image').slice(0, 60);\n  const subtitle = 'Hình minh hoạ';\n  const svg = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\".concat(width, \"\\\" height=\\\"\").concat(height, \"\\\" viewBox=\\\"0 0 \").concat(width, \" \").concat(height, \"\\\">\\n  <defs>\\n    <linearGradient id=\\\"g\\\" x1=\\\"0\\\" x2=\\\"1\\\" y1=\\\"0\\\" y2=\\\"1\\\">\\n      <stop offset=\\\"0%\\\" stop-color=\\\"#F8FAFC\\\"/>\\n      <stop offset=\\\"100%\\\" stop-color=\\\"\").concat(bg, \"\\\"/>\\n    </linearGradient>\\n  </defs>\\n  <rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"url(#g)\\\"/>\\n  <g opacity=\\\"0.08\\\">\\n    <circle cx=\\\"\").concat(width / 2, \"\\\" cy=\\\"\").concat(height / 2, \"\\\" r=\\\"\").concat(Math.min(width, height) / 3, \"\\\" fill=\\\"\").concat(fg, \"\\\"/>\\n  </g>\\n  <text x=\\\"50%\\\" y=\\\"48%\\\" text-anchor=\\\"middle\\\" fill=\\\"\").concat(fg, \"\\\" font-family=\\\"Inter,Segoe UI,Roboto,Arial\\\" font-size=\\\"\").concat(Math.min(42, width / 18), \"\\\" font-weight=\\\"700\\\">\").concat(safeText, \"</text>\\n  <text x=\\\"50%\\\" y=\\\"60%\\\" text-anchor=\\\"middle\\\" fill=\\\"\").concat(subfg, \"\\\" font-family=\\\"Inter,Segoe UI,Roboto,Arial\\\" font-size=\\\"\").concat(Math.min(20, width / 36), \"\\\">\").concat(subtitle, \"</text>\\n</svg>\");\n  return \"data:image/svg+xml;charset=UTF-8,\".concat(encodeURIComponent(svg));\n}\nfunction ImageWithFallback(props) {\n  _s();\n  const {\n    src,\n    alt,\n    className,\n    style,\n    fallbackSrc\n  } = props;\n  const [error, setError] = useState(false);\n  const dynamicFallback = useMemo(() => createSvgPlaceholder(alt || 'Hình ảnh'), [alt]);\n  const handleError = () => {\n    if (!error) {\n      setError(true);\n    }\n  };\n  const resolvedSrc = error || !src ? fallbackSrc || dynamicFallback : src;\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    src: resolvedSrc,\n    alt: alt || '',\n    className: className,\n    style: style,\n    onError: handleError,\n    loading: \"lazy\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(ImageWithFallback, \"FSWMNRGeiF5CW3c+qGpKkd5xrz0=\");\n_c = ImageWithFallback;\nexport default ImageWithFallback;\nvar _c;\n$RefreshReg$(_c, \"ImageWithFallback\");","map":{"version":3,"names":["React","useMemo","useState","jsxDEV","_jsxDEV","createSvgPlaceholder","text","arguments","length","undefined","options","width","height","bg","fg","subfg","safeText","slice","subtitle","svg","concat","Math","min","encodeURIComponent","ImageWithFallback","props","_s","src","alt","className","style","fallbackSrc","error","setError","dynamicFallback","handleError","resolvedSrc","onError","loading","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/STUDY/PTIT/NAM_4/KI_1/LT_WEB/BTL_GiuaKy/cellphons/client-cellphones/src/components/ImageWithFallback.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\n\r\nfunction createSvgPlaceholder(text = 'Image', options = {}) {\r\n    const {\r\n        width = 1200,\r\n        height = 600,\r\n        bg = '#EEF2FF',\r\n        fg = '#1E40AF',\r\n        subfg = '#475569'\r\n    } = options;\r\n\r\n    const safeText = (text || 'Image').slice(0, 60);\r\n    const subtitle = 'Hình minh hoạ';\r\n\r\n    const svg = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${width}\" height=\"${height}\" viewBox=\"0 0 ${width} ${height}\">\r\n  <defs>\r\n    <linearGradient id=\"g\" x1=\"0\" x2=\"1\" y1=\"0\" y2=\"1\">\r\n      <stop offset=\"0%\" stop-color=\"#F8FAFC\"/>\r\n      <stop offset=\"100%\" stop-color=\"${bg}\"/>\r\n    </linearGradient>\r\n  </defs>\r\n  <rect width=\"100%\" height=\"100%\" fill=\"url(#g)\"/>\r\n  <g opacity=\"0.08\">\r\n    <circle cx=\"${width/2}\" cy=\"${height/2}\" r=\"${Math.min(width,height)/3}\" fill=\"${fg}\"/>\r\n  </g>\r\n  <text x=\"50%\" y=\"48%\" text-anchor=\"middle\" fill=\"${fg}\" font-family=\"Inter,Segoe UI,Roboto,Arial\" font-size=\"${Math.min(42, width/18)}\" font-weight=\"700\">${safeText}</text>\r\n  <text x=\"50%\" y=\"60%\" text-anchor=\"middle\" fill=\"${subfg}\" font-family=\"Inter,Segoe UI,Roboto,Arial\" font-size=\"${Math.min(20, width/36)}\">${subtitle}</text>\r\n</svg>`;\r\n\r\n    return `data:image/svg+xml;charset=UTF-8,${encodeURIComponent(svg)}`;\r\n}\r\n\r\nfunction ImageWithFallback(props) {\r\n    const { src, alt, className, style, fallbackSrc } = props;\r\n    const [error, setError] = useState(false);\r\n\r\n    const dynamicFallback = useMemo(() => createSvgPlaceholder(alt || 'Hình ảnh'), [alt]);\r\n\r\n    const handleError = () => {\r\n        if (!error) {\r\n            setError(true);\r\n        }\r\n    };\r\n\r\n    const resolvedSrc = error || !src ? (fallbackSrc || dynamicFallback) : src;\r\n\r\n    return (\r\n        <img\r\n            src={resolvedSrc}\r\n            alt={alt || ''}\r\n            className={className}\r\n            style={style}\r\n            onError={handleError}\r\n            loading=\"lazy\"\r\n        />\r\n    );\r\n}\r\n\r\nexport default ImageWithFallback;\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,SAASC,oBAAoBA,CAAA,EAA+B;EAAA,IAA9BC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,OAAO;EAAA,IAAEG,OAAO,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACtD,MAAM;IACFI,KAAK,GAAG,IAAI;IACZC,MAAM,GAAG,GAAG;IACZC,EAAE,GAAG,SAAS;IACdC,EAAE,GAAG,SAAS;IACdC,KAAK,GAAG;EACZ,CAAC,GAAGL,OAAO;EAEX,MAAMM,QAAQ,GAAG,CAACV,IAAI,IAAI,OAAO,EAAEW,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EAC/C,MAAMC,QAAQ,GAAG,eAAe;EAEhC,MAAMC,GAAG,oGAAAC,MAAA,CACoCT,KAAK,kBAAAS,MAAA,CAAaR,MAAM,uBAAAQ,MAAA,CAAkBT,KAAK,OAAAS,MAAA,CAAIR,MAAM,qLAAAQ,MAAA,CAIlEP,EAAE,kJAAAO,MAAA,CAKxBT,KAAK,GAAC,CAAC,cAAAS,MAAA,CAASR,MAAM,GAAC,CAAC,aAAAQ,MAAA,CAAQC,IAAI,CAACC,GAAG,CAACX,KAAK,EAACC,MAAM,CAAC,GAAC,CAAC,gBAAAQ,MAAA,CAAWN,EAAE,8EAAAM,MAAA,CAElCN,EAAE,iEAAAM,MAAA,CAA0DC,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEX,KAAK,GAAC,EAAE,CAAC,6BAAAS,MAAA,CAAuBJ,QAAQ,yEAAAI,MAAA,CACjHL,KAAK,iEAAAK,MAAA,CAA0DC,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEX,KAAK,GAAC,EAAE,CAAC,SAAAS,MAAA,CAAKF,QAAQ,oBAChJ;EAEH,2CAAAE,MAAA,CAA2CG,kBAAkB,CAACJ,GAAG,CAAC;AACtE;AAEA,SAASK,iBAAiBA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC9B,MAAM;IAAEC,GAAG;IAAEC,GAAG;IAAEC,SAAS;IAAEC,KAAK;IAAEC;EAAY,CAAC,GAAGN,KAAK;EACzD,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EAEzC,MAAMgC,eAAe,GAAGjC,OAAO,CAAC,MAAMI,oBAAoB,CAACuB,GAAG,IAAI,UAAU,CAAC,EAAE,CAACA,GAAG,CAAC,CAAC;EAErF,MAAMO,WAAW,GAAGA,CAAA,KAAM;IACtB,IAAI,CAACH,KAAK,EAAE;MACRC,QAAQ,CAAC,IAAI,CAAC;IAClB;EACJ,CAAC;EAED,MAAMG,WAAW,GAAGJ,KAAK,IAAI,CAACL,GAAG,GAAII,WAAW,IAAIG,eAAe,GAAIP,GAAG;EAE1E,oBACIvB,OAAA;IACIuB,GAAG,EAAES,WAAY;IACjBR,GAAG,EAAEA,GAAG,IAAI,EAAG;IACfC,SAAS,EAAEA,SAAU;IACrBC,KAAK,EAAEA,KAAM;IACbO,OAAO,EAAEF,WAAY;IACrBG,OAAO,EAAC;EAAM;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjB,CAAC;AAEV;AAAChB,EAAA,CAxBQF,iBAAiB;AAAAmB,EAAA,GAAjBnB,iBAAiB;AA0B1B,eAAeA,iBAAiB;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}