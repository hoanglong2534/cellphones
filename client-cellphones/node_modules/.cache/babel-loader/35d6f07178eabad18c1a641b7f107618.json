{"ast":null,"code":"import React from\"react\";import{useDispatch}from\"react-redux\";import{createOrderGhn,PrintOrderGhn}from\"../../../../../actions/GhnAction\";import{deleteOrder,getAllOrder,ShippingOrder}from\"../../../../../actions/OrderAction\";import{formatPrice,formatDateOrderPaypal}from\"../../../../../untils/index\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Order(props){const{order}=props;const dispatch=useDispatch();const{orderItems,totalPrice,paymentMethod,cancelOrder,shippingAddress,status,paymentResult}=order;const handleShippingOrder=async order=>{console.log('handleShippingOrder');await dispatch(createOrderGhn(order._id));// create order in giaohangnhanh\nawait dispatch(ShippingOrder(order._id));dispatch(getAllOrder());};const handlePrintOrder=order=>{dispatch(PrintOrderGhn(order._id));};const handleDeleteOrder=async order=>{await dispatch(deleteOrder(order._id));dispatch(getAllOrder());};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-list-items\",children:orderItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-items-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image})}),/*#__PURE__*/_jsxs(\"span\",{className:\"qty\",children:[\"Qty: \",item.qty]}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:item.name}),/*#__PURE__*/_jsx(\"span\",{className:\"price\",children:formatPrice(item.salePrice)})]}))}),/*#__PURE__*/_jsx(\"div\",{className:\"toatalPrice\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"T\\u1ED5ng ti\\u1EC1n: \",formatPrice(totalPrice)]})}),/*#__PURE__*/_jsx(\"div\",{className:\"order-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-info-address\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\u0110\\u1ECBa ch\\u1EC9 : \"}),\" \",\"  \",shippingAddress.name,\",\",\"\",shippingAddress.province,\", \",shippingAddress.district,\",\",\"  \",shippingAddress.ward,\", \",shippingAddress.detail,\",\",\" \",shippingAddress.phone]})}),paymentResult?/*#__PURE__*/_jsxs(\"div\",{className:\"order-payment-check\",children:[\"Paid : \",formatDateOrderPaypal(paymentResult.update_time)]}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"order-bottom\",children:[status===\"shipping\"?/*#__PURE__*/_jsx(\"div\",{className:\"order-status\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u0110\\xE3 x\\xE1c nh\\u1EADn\",\" \",paymentMethod===\"payOnline\"?/*#__PURE__*/_jsx(\"span\",{children:\"& \\u0110\\xE3 thanh to\\xE1n\"}):\"\"]})}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"order-button\",children:[status===\"pendding\"&&cancelOrder===false?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{className:\"shipping\",onClick:()=>handleShippingOrder(order),children:\"X\\xE1c nh\\u1EADn \\u0111\\u01A1n h\\xE0ng\"})}):'',cancelOrder===true?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\" Kh\\xE1ch y\\xEAu c\\u1EA7u h\\u1EE7y \\u0111\\u01A1n \"}),/*#__PURE__*/_jsx(\"button\",{className:\"shipping\",onClick:()=>handleDeleteOrder(order),children:\"H\\u1EE7y \\u0111\\u01A1n\"})]}):'']})]})]})});}export default Order;","map":{"version":3,"names":["React","useDispatch","createOrderGhn","PrintOrderGhn","deleteOrder","getAllOrder","ShippingOrder","formatPrice","formatDateOrderPaypal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Order","props","order","dispatch","orderItems","totalPrice","paymentMethod","cancelOrder","shippingAddress","status","paymentResult","handleShippingOrder","console","log","_id","handlePrintOrder","handleDeleteOrder","children","className","map","item","src","image","qty","name","salePrice","province","district","ward","detail","phone","update_time","onClick"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/components/Admin/components/AdminOrder/AdminOrderUI/Order.js"],"sourcesContent":["import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  createOrderGhn,\r\n  PrintOrderGhn,\r\n} from \"../../../../../actions/GhnAction\";\r\nimport { deleteOrder, getAllOrder, ShippingOrder } from \"../../../../../actions/OrderAction\";\r\nimport {\r\n  formatPrice,\r\n  formatDateOrderPaypal,\r\n} from \"../../../../../untils/index\";\r\n\r\nfunction Order(props) {\r\n  const { order } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    orderItems,\r\n    totalPrice,\r\n    paymentMethod,\r\n    cancelOrder,\r\n    shippingAddress,\r\n    status,\r\n    paymentResult,\r\n  } = order;\r\n\r\n  const handleShippingOrder = async (order) => {\r\n    console.log('handleShippingOrder')\r\n    await dispatch(createOrderGhn(order._id)); // create order in giaohangnhanh\r\n    await dispatch(ShippingOrder(order._id));\r\n\r\n    dispatch(getAllOrder());\r\n  };\r\n\r\n  const handlePrintOrder = (order) => {\r\n    dispatch(PrintOrderGhn(order._id));\r\n  };\r\n\r\n  const handleDeleteOrder = async (order) => {\r\n    await dispatch(deleteOrder(order._id))\r\n    dispatch(getAllOrder())\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"order-list\">\r\n        <div className=\"order-list-items\">\r\n          {orderItems.map((item) => (\r\n            <div className=\"order-items-item\">\r\n              <span className=\"img\">\r\n                <img src={item.image}></img>\r\n              </span>\r\n              <span className=\"qty\">Qty: {item.qty}</span>\r\n              <span className=\"name\">{item.name}</span>\r\n              <span className=\"price\">{formatPrice(item.salePrice)}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"toatalPrice\">\r\n          <span>Tổng tiền: {formatPrice(totalPrice)}</span>\r\n        </div>\r\n        <div className=\"order-info\">\r\n          <div className=\"order-info-address\">\r\n            <b>Địa chỉ : </b> {\"  \"}\r\n            {shippingAddress.name},{\"\"}\r\n            {shippingAddress.province}, {shippingAddress.district},{\"  \"}\r\n            {shippingAddress.ward}, {shippingAddress.detail},{\" \"}\r\n            {shippingAddress.phone}\r\n          </div>\r\n        </div>\r\n\r\n        {paymentResult ? (\r\n          <div className=\"order-payment-check\">\r\n            Paid : {formatDateOrderPaypal(paymentResult.update_time)}\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        <div className=\"order-bottom\">\r\n          {status === \"shipping\" ? (\r\n            <div className=\"order-status\">\r\n              <span>\r\n                Đã xác nhận{\" \"}\r\n                {paymentMethod === \"payOnline\" ? (\r\n                  <span>& Đã thanh toán</span>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          <div className=\"order-button\">\r\n            {status === \"pendding\" && cancelOrder === false ? (\r\n              <>\r\n                <button\r\n                  className=\"shipping\"\r\n                  onClick={() => handleShippingOrder(order)}\r\n                >\r\n                  Xác nhận đơn hàng\r\n                </button>\r\n\r\n              </>\r\n            ) : (''\r\n            )}\r\n\r\n            {\r\n              cancelOrder === true ? (<>\r\n              <span> Khách yêu cầu hủy đơn </span>\r\n                <button\r\n                  className=\"shipping\"\r\n                  onClick={() => handleDeleteOrder(order)}\r\n                >\r\n                  Hủy đơn\r\n                </button>\r\n\r\n              </>) : ''\r\n            }\r\n\r\n            {/* {status === \"shipping\" ? (\r\n              <button\r\n                className=\"shipping\"\r\n                onClick={() => handlePrintOrder(order)}\r\n              >\r\n                In đơn hàng\r\n              </button>\r\n            ) : (\r\n              \"\"\r\n            )} */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Order;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,aAAa,CACzC,OACEC,cAAc,CACdC,aAAa,KACR,kCAAkC,CACzC,OAASC,WAAW,CAAEC,WAAW,CAAEC,aAAa,KAAQ,oCAAoC,CAC5F,OACEC,WAAW,CACXC,qBAAqB,KAChB,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErC,QAAS,CAAAC,KAAKA,CAACC,KAAK,CAAE,CACpB,KAAM,CAAEC,KAAM,CAAC,CAAGD,KAAK,CACvB,KAAM,CAAAE,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B,KAAM,CACJkB,UAAU,CACVC,UAAU,CACVC,aAAa,CACbC,WAAW,CACXC,eAAe,CACfC,MAAM,CACNC,aACF,CAAC,CAAGR,KAAK,CAET,KAAM,CAAAS,mBAAmB,CAAG,KAAO,CAAAT,KAAK,EAAK,CAC3CU,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAClC,KAAM,CAAAV,QAAQ,CAAChB,cAAc,CAACe,KAAK,CAACY,GAAG,CAAC,CAAC,CAAE;AAC3C,KAAM,CAAAX,QAAQ,CAACZ,aAAa,CAACW,KAAK,CAACY,GAAG,CAAC,CAAC,CAExCX,QAAQ,CAACb,WAAW,CAAC,CAAC,CAAC,CACzB,CAAC,CAED,KAAM,CAAAyB,gBAAgB,CAAIb,KAAK,EAAK,CAClCC,QAAQ,CAACf,aAAa,CAACc,KAAK,CAACY,GAAG,CAAC,CAAC,CACpC,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAG,KAAO,CAAAd,KAAK,EAAK,CACzC,KAAM,CAAAC,QAAQ,CAACd,WAAW,CAACa,KAAK,CAACY,GAAG,CAAC,CAAC,CACtCX,QAAQ,CAACb,WAAW,CAAC,CAAC,CAAC,CACzB,CAAC,CAED,mBACEK,IAAA,CAAAI,SAAA,EAAAkB,QAAA,cACEpB,KAAA,QAAKqB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBtB,IAAA,QAAKuB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAC9Bb,UAAU,CAACe,GAAG,CAAEC,IAAI,eACnBvB,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/BtB,IAAA,SAAMuB,SAAS,CAAC,KAAK,CAAAD,QAAA,cACnBtB,IAAA,QAAK0B,GAAG,CAAED,IAAI,CAACE,KAAM,CAAM,CAAC,CACxB,CAAC,cACPzB,KAAA,SAAMqB,SAAS,CAAC,KAAK,CAAAD,QAAA,EAAC,OAAK,CAACG,IAAI,CAACG,GAAG,EAAO,CAAC,cAC5C5B,IAAA,SAAMuB,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAEG,IAAI,CAACI,IAAI,CAAO,CAAC,cACzC7B,IAAA,SAAMuB,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAEzB,WAAW,CAAC4B,IAAI,CAACK,SAAS,CAAC,CAAO,CAAC,EACzD,CACN,CAAC,CACC,CAAC,cACN9B,IAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1BpB,KAAA,SAAAoB,QAAA,EAAM,uBAAW,CAACzB,WAAW,CAACa,UAAU,CAAC,EAAO,CAAC,CAC9C,CAAC,cACNV,IAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAD,QAAA,cACzBpB,KAAA,QAAKqB,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCtB,IAAA,MAAAsB,QAAA,CAAG,2BAAU,CAAG,CAAC,IAAC,CAAC,IAAI,CACtBT,eAAe,CAACgB,IAAI,CAAC,GAAC,CAAC,EAAE,CACzBhB,eAAe,CAACkB,QAAQ,CAAC,IAAE,CAAClB,eAAe,CAACmB,QAAQ,CAAC,GAAC,CAAC,IAAI,CAC3DnB,eAAe,CAACoB,IAAI,CAAC,IAAE,CAACpB,eAAe,CAACqB,MAAM,CAAC,GAAC,CAAC,GAAG,CACpDrB,eAAe,CAACsB,KAAK,EACnB,CAAC,CACH,CAAC,CAELpB,aAAa,cACZb,KAAA,QAAKqB,SAAS,CAAC,qBAAqB,CAAAD,QAAA,EAAC,SAC5B,CAACxB,qBAAqB,CAACiB,aAAa,CAACqB,WAAW,CAAC,EACrD,CAAC,CAEN,EACD,cAEDlC,KAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAD,QAAA,EAC1BR,MAAM,GAAK,UAAU,cACpBd,IAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC3BpB,KAAA,SAAAoB,QAAA,EAAM,6BACO,CAAC,GAAG,CACdX,aAAa,GAAK,WAAW,cAC5BX,IAAA,SAAAsB,QAAA,CAAM,4BAAe,CAAM,CAAC,CAE5B,EACD,EACG,CAAC,CACJ,CAAC,CAEN,EACD,cAEDpB,KAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAD,QAAA,EAC1BR,MAAM,GAAK,UAAU,EAAIF,WAAW,GAAK,KAAK,cAC7CZ,IAAA,CAAAI,SAAA,EAAAkB,QAAA,cACEtB,IAAA,WACEuB,SAAS,CAAC,UAAU,CACpBc,OAAO,CAAEA,CAAA,GAAMrB,mBAAmB,CAACT,KAAK,CAAE,CAAAe,QAAA,CAC3C,wCAED,CAAQ,CAAC,CAET,CAAC,CACA,EACJ,CAGCV,WAAW,GAAK,IAAI,cAAIV,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACxBtB,IAAA,SAAAsB,QAAA,CAAM,mDAAuB,CAAM,CAAC,cAClCtB,IAAA,WACEuB,SAAS,CAAC,UAAU,CACpBc,OAAO,CAAEA,CAAA,GAAMhB,iBAAiB,CAACd,KAAK,CAAE,CAAAe,QAAA,CACzC,wBAED,CAAQ,CAAC,EAET,CAAC,CAAI,EAAE,EAaR,CAAC,EACH,CAAC,EACH,CAAC,CACN,CAAC,CAEP,CAEA,cAAe,CAAAjB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}