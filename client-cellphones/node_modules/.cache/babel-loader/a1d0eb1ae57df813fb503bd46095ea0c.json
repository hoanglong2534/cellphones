{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Col}from'antd';import{useDispatch,useSelector}from'react-redux';import{commentProduct,getproductById}from'../../actions/ProductAction';import{useParams}from'react-router-dom';import AllComment from'./AllComment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CommentProduct(props){const{id}=useParams();const dispatch=useDispatch();const[value,setValue]=useState('');const allComment=useSelector(state=>state.getProductById.product.comments);const{userInfo}=useSelector(state=>state.userSignin);const Comment=()=>{if(userInfo){const comment={author:userInfo.name,isAdmin:userInfo.isAdmin,content:value,byUser:userInfo._id};dispatch(commentProduct(id,comment));setValue('');}else alert('Đăng nhập đi bạn êiiiii');};useEffect(()=>{dispatch(getproductById(id));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",children:[/*#__PURE__*/_jsxs(Col,{span:18,align:\"start\",style:{alignItems:'center'},xs:24,sm:24,md:18,children:[/*#__PURE__*/_jsx(\"div\",{className:\"comment-area\",style:{display:'flex',alignItems:'center'},children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Xin m\\u1EDDi \\u0111\\u1EC3 l\\u1EA1i c\\xE2u h\\u1ECFi, CellphoneS s\\u1EBD tr\\u1EA3 l\\u1EDDi trong 1h t\\u1EEB 8h - 22h m\\u1ED7i ng\\xE0y.\",rows:10,cols:3,value:value,onChange:e=>setValue(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-send\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>Comment(),children:\"G\\u1EEDi\"})})]}),/*#__PURE__*/_jsx(AllComment,{allComment:allComment})]});}export default CommentProduct;","map":{"version":3,"names":["React","useState","useEffect","Col","useDispatch","useSelector","commentProduct","getproductById","useParams","AllComment","jsx","_jsx","jsxs","_jsxs","CommentProduct","props","id","dispatch","value","setValue","allComment","state","getProductById","product","comments","userInfo","userSignin","Comment","comment","author","name","isAdmin","content","byUser","_id","alert","className","children","span","align","style","alignItems","xs","sm","md","display","placeholder","rows","cols","onChange","e","target","onClick"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/components/detail/CommentProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Col} from 'antd';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { commentProduct, getproductById } from '../../actions/ProductAction';\r\nimport {useParams} from 'react-router-dom'\r\n\r\nimport AllComment from './AllComment';\r\n\r\nfunction CommentProduct(props) {\r\n  const {id} = useParams()\r\n  const dispatch = useDispatch()\r\n  const [value, setValue] = useState('')\r\n  const allComment = useSelector(state => state.getProductById.product.comments)\r\n  const {userInfo} = useSelector(state => state.userSignin)\r\n  \r\n  const Comment = () => {\r\n    if(userInfo){\r\n      const comment = {\r\n        author: userInfo.name,\r\n        isAdmin: userInfo.isAdmin,\r\n        content: value,\r\n        byUser: userInfo._id,\r\n      }\r\n      dispatch(commentProduct(id, comment))\r\n      setValue('')\r\n    }\r\n    else alert('Đăng nhập đi bạn êiiiii')\r\n  }\r\n  useEffect(() => {\r\n    dispatch(getproductById(id))\r\n  }, [])\r\n\r\n    return (\r\n      <div className='comment'>\r\n        <Col span={18} align='start' style={{ alignItems:'center'}} xs={24} sm={24} md={18}>\r\n          <div className=\"comment-area\" style={{display: 'flex', alignItems:'center'}}>\r\n            <textarea placeholder='Xin mời để lại câu hỏi, CellphoneS sẽ trả lời trong 1h từ 8h - 22h mỗi ngày.' rows={10} cols={3} value={value} onChange={(e) => setValue(e.target.value)}></textarea>\r\n          </div>\r\n          <div className=\"comment-send\">\r\n            <button onClick={() => Comment()}>Gửi</button>\r\n          </div>\r\n        </Col>\r\n\r\n        <AllComment allComment={allComment}></AllComment>\r\n      </div>\r\n\r\n    )\r\n}\r\n\r\nexport default CommentProduct;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,KAAO,MAAM,CACzB,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAASC,cAAc,CAAEC,cAAc,KAAQ,6BAA6B,CAC5E,OAAQC,SAAS,KAAO,kBAAkB,CAE1C,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,cAAcA,CAACC,KAAK,CAAE,CAC7B,KAAM,CAACC,EAAE,CAAC,CAAGR,SAAS,CAAC,CAAC,CACxB,KAAM,CAAAS,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAmB,UAAU,CAAGf,WAAW,CAACgB,KAAK,EAAIA,KAAK,CAACC,cAAc,CAACC,OAAO,CAACC,QAAQ,CAAC,CAC9E,KAAM,CAACC,QAAQ,CAAC,CAAGpB,WAAW,CAACgB,KAAK,EAAIA,KAAK,CAACK,UAAU,CAAC,CAEzD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,GAAGF,QAAQ,CAAC,CACV,KAAM,CAAAG,OAAO,CAAG,CACdC,MAAM,CAAEJ,QAAQ,CAACK,IAAI,CACrBC,OAAO,CAAEN,QAAQ,CAACM,OAAO,CACzBC,OAAO,CAAEd,KAAK,CACde,MAAM,CAAER,QAAQ,CAACS,GACnB,CAAC,CACDjB,QAAQ,CAACX,cAAc,CAACU,EAAE,CAAEY,OAAO,CAAC,CAAC,CACrCT,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,IACI,CAAAgB,KAAK,CAAC,yBAAyB,CAAC,CACvC,CAAC,CACDjC,SAAS,CAAC,IAAM,CACde,QAAQ,CAACV,cAAc,CAACS,EAAE,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEJ,mBACEH,KAAA,QAAKuB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBxB,KAAA,CAACV,GAAG,EAACmC,IAAI,CAAE,EAAG,CAACC,KAAK,CAAC,OAAO,CAACC,KAAK,CAAE,CAAEC,UAAU,CAAC,QAAQ,CAAE,CAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAAAP,QAAA,eACjF1B,IAAA,QAAKyB,SAAS,CAAC,cAAc,CAACI,KAAK,CAAE,CAACK,OAAO,CAAE,MAAM,CAAEJ,UAAU,CAAC,QAAQ,CAAE,CAAAJ,QAAA,cAC1E1B,IAAA,aAAUmC,WAAW,CAAC,sIAA8E,CAACC,IAAI,CAAE,EAAG,CAACC,IAAI,CAAE,CAAE,CAAC9B,KAAK,CAAEA,KAAM,CAAC+B,QAAQ,CAAGC,CAAC,EAAK/B,QAAQ,CAAC+B,CAAC,CAACC,MAAM,CAACjC,KAAK,CAAE,CAAW,CAAC,CACzL,CAAC,cACNP,IAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B1B,IAAA,WAAQyC,OAAO,CAAEA,CAAA,GAAMzB,OAAO,CAAC,CAAE,CAAAU,QAAA,CAAC,UAAG,CAAQ,CAAC,CAC3C,CAAC,EACH,CAAC,cAEN1B,IAAA,CAACF,UAAU,EAACW,UAAU,CAAEA,UAAW,CAAa,CAAC,EAC9C,CAAC,CAGZ,CAEA,cAAe,CAAAN,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}