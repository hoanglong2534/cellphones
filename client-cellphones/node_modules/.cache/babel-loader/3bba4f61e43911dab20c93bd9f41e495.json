{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Download\\\\project-long\\\\cellphones\\\\client-cellphones\\\\src\\\\components\\\\ARViewer\\\\ModelViewerAR.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport('@google/model-viewer');\nfunction isIOS() {\n  if (typeof navigator === 'undefined') return false;\n  return /iPad|iPhone|iPod/.test(navigator.userAgent) || navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1;\n}\nexport default function ModelViewerAR(_ref) {\n  _s();\n  let {\n    src,\n    iosSrc,\n    poster,\n    alt = '3D model',\n    arScale = 'auto',\n    arPlacement = 'floor'\n  } = _ref;\n  // Best-effort choose poster\n  const posterUrl = poster || undefined;\n  const computedIosSrc = useMemo(() => {\n    if (iosSrc) return iosSrc; // .usdz if provided\n    // If a .usdz isn't provided, fallback will still allow non-AR viewing on iOS\n    return undefined;\n  }, [iosSrc]);\n  useEffect(() => {\n    // No-op: ensures side-effect import executed once\n  }, []);\n\n  // model-viewer attributes\n  // - ar: enables AR (Scene Viewer on Android, Quick Look on iOS)\n  // - camera-controls, autoplay: basic UX\n  // - exposure, shadow-intensity: nicer visuals\n  return /*#__PURE__*/_jsxDEV(\"model-viewer\", {\n    src: src,\n    \"ios-src\": computedIosSrc,\n    alt: alt,\n    ar: true,\n    \"ar-modes\": \"scene-viewer webxr quick-look\",\n    \"ar-scale\": arScale,\n    \"ar-placement\": arPlacement,\n    \"camera-controls\": true,\n    autoplay: true,\n    \"shadow-intensity\": \"0.8\",\n    exposure: \"0.9\",\n    style: {\n      width: '100%',\n      height: 420,\n      background: '#111',\n      borderRadius: 12,\n      overflow: 'hidden',\n      border: '1px solid #333'\n    },\n    poster: posterUrl,\n    children: isIOS() && !computedIosSrc ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: 8,\n        left: 8,\n        right: 8,\n        color: '#fff',\n        fontSize: 12,\n        opacity: 0.8\n      },\n      children: \"\\u0110\\u1EC3 b\\u1EADt AR tr\\xEAn iOS, cung c\\u1EA5p t\\u1EC7p .usdz qua prop iosSrc.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n_s(ModelViewerAR, \"7DrPqTKNkTdf3s6j9LMrsqkQ8hw=\");\n_c = ModelViewerAR;\nvar _c;\n$RefreshReg$(_c, \"ModelViewerAR\");","map":{"version":3,"names":["React","useEffect","useMemo","jsxDEV","_jsxDEV","isIOS","navigator","test","userAgent","platform","maxTouchPoints","ModelViewerAR","_ref","_s","src","iosSrc","poster","alt","arScale","arPlacement","posterUrl","undefined","computedIosSrc","ar","autoplay","exposure","style","width","height","background","borderRadius","overflow","border","children","position","bottom","left","right","color","fontSize","opacity","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/components/ARViewer/ModelViewerAR.js"],"sourcesContent":["import React, { useEffect, useMemo } from 'react';\r\nimport('@google/model-viewer');\r\n\r\nfunction isIOS() {\r\n    if (typeof navigator === 'undefined') return false;\r\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\r\n}\r\n\r\nexport default function ModelViewerAR({ src, iosSrc, poster, alt = '3D model', arScale = 'auto', arPlacement = 'floor' }) {\r\n    // Best-effort choose poster\r\n    const posterUrl = poster || undefined;\r\n\r\n    const computedIosSrc = useMemo(() => {\r\n        if (iosSrc) return iosSrc; // .usdz if provided\r\n        // If a .usdz isn't provided, fallback will still allow non-AR viewing on iOS\r\n        return undefined;\r\n    }, [iosSrc]);\r\n\r\n    useEffect(() => {\r\n        // No-op: ensures side-effect import executed once\r\n    }, []);\r\n\r\n    // model-viewer attributes\r\n    // - ar: enables AR (Scene Viewer on Android, Quick Look on iOS)\r\n    // - camera-controls, autoplay: basic UX\r\n    // - exposure, shadow-intensity: nicer visuals\r\n    return (\r\n        <model-viewer\r\n            src={src}\r\n            ios-src={computedIosSrc}\r\n            alt={alt}\r\n            ar\r\n            ar-modes=\"scene-viewer webxr quick-look\"\r\n            ar-scale={arScale}\r\n            ar-placement={arPlacement}\r\n            camera-controls\r\n            autoplay\r\n            shadow-intensity=\"0.8\"\r\n            exposure=\"0.9\"\r\n            style={{ width: '100%', height: 420, background: '#111', borderRadius: 12, overflow: 'hidden', border: '1px solid #333' }}\r\n            poster={posterUrl}\r\n        >\r\n            {/* Fallback info for iOS without USDZ */}\r\n            {isIOS() && !computedIosSrc ? (\r\n                <div style={{ position: 'absolute', bottom: 8, left: 8, right: 8, color: '#fff', fontSize: 12, opacity: 0.8 }}>\r\n                    Để bật AR trên iOS, cung cấp tệp .usdz qua prop iosSrc.\r\n                </div>\r\n            ) : null}\r\n        </model-viewer>\r\n    );\r\n}\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAClD,MAAM,CAAC,sBAAsB,CAAC;AAE9B,SAASC,KAAKA,CAAA,EAAG;EACb,IAAI,OAAOC,SAAS,KAAK,WAAW,EAAE,OAAO,KAAK;EAClD,OAAO,kBAAkB,CAACC,IAAI,CAACD,SAAS,CAACE,SAAS,CAAC,IAAKF,SAAS,CAACG,QAAQ,KAAK,UAAU,IAAIH,SAAS,CAACI,cAAc,GAAG,CAAE;AAC9H;AAEA,eAAe,SAASC,aAAaA,CAAAC,IAAA,EAAqF;EAAAC,EAAA;EAAA,IAApF;IAAEC,GAAG;IAAEC,MAAM;IAAEC,MAAM;IAAEC,GAAG,GAAG,UAAU;IAAEC,OAAO,GAAG,MAAM;IAAEC,WAAW,GAAG;EAAQ,CAAC,GAAAP,IAAA;EACpH;EACA,MAAMQ,SAAS,GAAGJ,MAAM,IAAIK,SAAS;EAErC,MAAMC,cAAc,GAAGpB,OAAO,CAAC,MAAM;IACjC,IAAIa,MAAM,EAAE,OAAOA,MAAM,CAAC,CAAC;IAC3B;IACA,OAAOM,SAAS;EACpB,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;EAEZd,SAAS,CAAC,MAAM;IACZ;EAAA,CACH,EAAE,EAAE,CAAC;;EAEN;EACA;EACA;EACA;EACA,oBACIG,OAAA;IACIU,GAAG,EAAEA,GAAI;IACT,WAASQ,cAAe;IACxBL,GAAG,EAAEA,GAAI;IACTM,EAAE;IACF,YAAS,+BAA+B;IACxC,YAAUL,OAAQ;IAClB,gBAAcC,WAAY;IAC1B,uBAAe;IACfK,QAAQ;IACR,oBAAiB,KAAK;IACtBC,QAAQ,EAAC,KAAK;IACdC,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE,GAAG;MAAEC,UAAU,EAAE,MAAM;MAAEC,YAAY,EAAE,EAAE;MAAEC,QAAQ,EAAE,QAAQ;MAAEC,MAAM,EAAE;IAAiB,CAAE;IAC1HhB,MAAM,EAAEI,SAAU;IAAAa,QAAA,EAGjB5B,KAAK,CAAC,CAAC,IAAI,CAACiB,cAAc,gBACvBlB,OAAA;MAAKsB,KAAK,EAAE;QAAEQ,QAAQ,EAAE,UAAU;QAAEC,MAAM,EAAE,CAAC;QAAEC,IAAI,EAAE,CAAC;QAAEC,KAAK,EAAE,CAAC;QAAEC,KAAK,EAAE,MAAM;QAAEC,QAAQ,EAAE,EAAE;QAAEC,OAAO,EAAE;MAAI,CAAE;MAAAP,QAAA,EAAC;IAE/G;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,GACN;EAAI;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEvB;AAAC/B,EAAA,CA1CuBF,aAAa;AAAAkC,EAAA,GAAblC,aAAa;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}