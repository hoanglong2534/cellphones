{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./GlobalAIChatbot.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GlobalAIChatbot(){const[isOpen,setIsOpen]=useState(false);const[messages,setMessages]=useState([{id:1,text:\"Xin ch√†o! T√¥i l√† AI Assistant c·ªßa Cellphones. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n:\\n\\nü§ñ Tr·∫£ l·ªùi m·ªçi c√¢u h·ªèi\\nüì± T∆∞ v·∫•n s·∫£n ph·∫©m ƒëi·ªán tho·∫°i\\nüí∞ So s√°nh gi√° c·∫£\\nüîç T√¨m ki·∫øm th√¥ng tin\\nüí° ƒê∆∞a ra g·ª£i √Ω mua s·∫Øm\\n\\nB·∫°n mu·ªën h·ªèi g√¨?\",sender:'bot',timestamp:new Date()}]);const[inputText,setInputText]=useState('');const[isTyping,setIsTyping]=useState(false);const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);// Enhanced AI response v·ªõi OpenAI/Gemini integration\nconst getAIResponse=async userMessage=>{setIsTyping(true);try{var _data$data,_data$data2,_data$data2$raw,_data$data3,_data$data3$raw;// Call backend AI API\nconst response=await fetch('http://localhost:4000/genai/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt:userMessage,temperature:0.7,maxOutputTokens:1024})});if(!response.ok){throw new Error('API call failed');}const data=await response.json();return(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.text)||(data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$raw=_data$data2.raw)===null||_data$data2$raw===void 0?void 0:_data$data2$raw.text)||(data===null||data===void 0?void 0:(_data$data3=data.data)===null||_data$data3===void 0?void 0:(_data$data3$raw=_data$data3.raw)===null||_data$data3$raw===void 0?void 0:_data$data3$raw.candidates)&&data.data.raw.candidates.map(c=>c.output||'').join('\\n')||'Xin l·ªói, t√¥i ch∆∞a nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi t·ª´ AI.';}catch(error){console.error('AI API Error:',error);// Fallback to enhanced local responses\nreturn getEnhancedLocalResponse(userMessage);}finally{setIsTyping(false);}};// Enhanced local responses (fallback)\nconst getEnhancedLocalResponse=userMessage=>{const lowerMessage=userMessage.toLowerCase();// General knowledge questions\nif(lowerMessage.includes('th·ªùi ti·∫øt')||lowerMessage.includes('weather')){return\"\\uD83C\\uDF24\\uFE0F T\\xF4i kh\\xF4ng th\\u1EC3 cung c\\u1EA5p th\\xF4ng tin th\\u1EDDi ti\\u1EBFt th\\u1EDDi gian th\\u1EF1c, nh\\u01B0ng b\\u1EA1n c\\xF3 th\\u1EC3:\\n\\n\\u2022 Ki\\u1EC3m tra \\u1EE9ng d\\u1EE5ng th\\u1EDDi ti\\u1EBFt tr\\xEAn \\u0111i\\u1EC7n tho\\u1EA1i\\n\\u2022 H\\u1ECFi Google Assistant ho\\u1EB7c Siri\\n\\u2022 Truy c\\u1EADp trang web th\\u1EDDi ti\\u1EBFt\\n\\nT\\xF4i c\\xF3 th\\u1EC3 gi\\xFAp b\\u1EA1n t\\xECm \\u0111i\\u1EC7n tho\\u1EA1i c\\xF3 \\u1EE9ng d\\u1EE5ng th\\u1EDDi ti\\u1EBFt t\\u1ED1t! \\uD83D\\uDCF1\";}if(lowerMessage.includes('gi·ªù')||lowerMessage.includes('time')){const now=new Date();return\"\\uD83D\\uDD50 Hi\\u1EC7n t\\u1EA1i l\\xE0 \".concat(now.toLocaleTimeString('vi-VN'),\" ng\\xE0y \").concat(now.toLocaleDateString('vi-VN'),\"\\n\\nB\\u1EA1n c\\xF3 c\\u1EA7n \\u0111i\\u1EC7n tho\\u1EA1i c\\xF3 \\u0111\\u1ED3ng h\\u1ED3 \\u0111\\u1EB9p kh\\xF4ng? T\\xF4i c\\xF3 th\\u1EC3 g\\u1EE3i \\xFD! \\u23F0\");}if(lowerMessage.includes('h·ªçc')||lowerMessage.includes('study')||lowerMessage.includes('h·ªçc t·∫≠p')){return\"\\uD83D\\uDCDA T\\xF4i c\\xF3 th\\u1EC3 gi\\xFAp b\\u1EA1n t\\xECm \\u0111i\\u1EC7n tho\\u1EA1i ph\\xF9 h\\u1EE3p cho vi\\u1EC7c h\\u1ECDc t\\u1EADp:\\n\\n\\uD83D\\uDCF1 **\\u0110i\\u1EC7n tho\\u1EA1i h\\u1ECDc t\\u1EADp t\\u1ED1t:**\\n\\u2022 iPhone SE - Compact, hi\\u1EC7u n\\u0103ng t\\u1ED1t\\n\\u2022 Samsung Galaxy A54 - M\\xE0n h\\xECnh l\\u1EDBn, pin t\\u1ED1t\\n\\u2022 Xiaomi Redmi Note 12 - Gi\\xE1 r\\u1EBB, \\u0111\\u1EA7y \\u0111\\u1EE7 t\\xEDnh n\\u0103ng\\n\\n\\uD83D\\uDCA1 **T\\xEDnh n\\u0103ng h\\u1EEFu \\xEDch:**\\n\\u2022 M\\xE0n h\\xECnh l\\u1EDBn \\u0111\\u1EC3 \\u0111\\u1ECDc s\\xE1ch\\n\\u2022 Pin t\\u1ED1t \\u0111\\u1EC3 h\\u1ECDc c\\u1EA3 ng\\xE0y\\n\\u2022 Camera t\\u1ED1t \\u0111\\u1EC3 ch\\u1EE5p b\\xE0i gi\\u1EA3ng\\n\\u2022 B\\u1ED9 nh\\u1EDB l\\u1EDBn \\u0111\\u1EC3 l\\u01B0u t\\xE0i li\\u1EC7u\\n\\nB\\u1EA1n h\\u1ECDc ng\\xE0nh g\\xEC? T\\xF4i s\\u1EBD g\\u1EE3i \\xFD ph\\xF9 h\\u1EE3p! \\uD83C\\uDF93\";}if(lowerMessage.includes('l√†m vi·ªác')||lowerMessage.includes('work')||lowerMessage.includes('c√¥ng vi·ªác')){return\"\\uD83D\\uDCBC \\u0110\\u1EC3 l\\xE0m vi\\u1EC7c hi\\u1EC7u qu\\u1EA3, b\\u1EA1n c\\u1EA7n \\u0111i\\u1EC7n tho\\u1EA1i c\\xF3:\\n\\n\\uD83D\\uDCF1 **\\u0110i\\u1EC7n tho\\u1EA1i l\\xE0m vi\\u1EC7c t\\u1ED1t:**\\n\\u2022 iPhone 15 Pro - Hi\\u1EC7u n\\u0103ng cao, camera chuy\\xEAn nghi\\u1EC7p\\n\\u2022 Samsung Galaxy S23 Ultra - S Pen, \\u0111a nhi\\u1EC7m t\\u1ED1t\\n\\u2022 Google Pixel 8 Pro - AI t\\xEDch h\\u1EE3p, camera xu\\u1EA5t s\\u1EAFc\\n\\n\\uD83D\\uDCBC **T\\xEDnh n\\u0103ng quan tr\\u1ECDng:**\\n\\u2022 Email, calendar t\\xEDch h\\u1EE3p\\n\\u2022 Video call ch\\u1EA5t l\\u01B0\\u1EE3ng cao\\n\\u2022 Ch\\u1EE5p \\u1EA3nh t\\xE0i li\\u1EC7u r\\xF5 n\\xE9t\\n\\u2022 Pin c\\u1EA3 ng\\xE0y\\n\\u2022 B\\u1EA3o m\\u1EADt cao\\n\\nB\\u1EA1n l\\xE0m ngh\\u1EC1 g\\xEC? T\\xF4i s\\u1EBD t\\u01B0 v\\u1EA5n c\\u1EE5 th\\u1EC3! \\uD83C\\uDFE2\";}if(lowerMessage.includes('ch∆°i game')||lowerMessage.includes('gaming')){return\"\\uD83C\\uDFAE \\u0110i\\u1EC7n tho\\u1EA1i gaming t\\u1ED1t nh\\u1EA5t:\\n\\n\\uD83D\\uDCF1 **Top Gaming Phones:**\\n\\u2022 iPhone 15 Pro Max - Chip A17 Pro m\\u1EA1nh nh\\u1EA5t\\n\\u2022 Samsung Galaxy S23 Ultra - Snapdragon 8 Gen 2\\n\\u2022 ASUS ROG Phone 7 - Chuy\\xEAn gaming\\n\\u2022 Xiaomi Black Shark 5 Pro - Gi\\xE1 t\\u1ED1t\\n\\n\\uD83C\\uDFAF **T\\xEDnh n\\u0103ng gaming:**\\n\\u2022 Chip x\\u1EED l\\xFD m\\u1EA1nh\\n\\u2022 RAM l\\u1EDBn (8GB+)\\n\\u2022 M\\xE0n h\\xECnh 120Hz+\\n\\u2022 Pin l\\u1EDBn\\n\\u2022 T\\u1EA3n nhi\\u1EC7t t\\u1ED1t\\n\\u2022 \\xC2m thanh stereo\\n\\nB\\u1EA1n ch\\u01A1i game g\\xEC? PUBG, Mobile Legends, hay game kh\\xE1c? \\uD83D\\uDD79\\uFE0F\";}if(lowerMessage.includes('ch·ª•p ·∫£nh')||lowerMessage.includes('camera')||lowerMessage.includes('photo')){return\"\\uD83D\\uDCF8 \\u0110i\\u1EC7n tho\\u1EA1i camera t\\u1ED1t nh\\u1EA5t:\\n\\n\\uD83D\\uDCF1 **Top Camera Phones:**\\n\\u2022 iPhone 15 Pro Max - Camera 48MP, zoom 5x\\n\\u2022 Samsung Galaxy S23 Ultra - Camera 200MP\\n\\u2022 Google Pixel 8 Pro - AI Magic Eraser\\n\\u2022 Xiaomi 13 Ultra - Leica camera\\n\\n\\uD83D\\uDCF7 **T\\xEDnh n\\u0103ng camera:**\\n\\u2022 Ch\\u1EE5p \\u0111\\xEAm xu\\u1EA5t s\\u1EAFc\\n\\u2022 Zoom quang h\\u1ECDc\\n\\u2022 Video 4K/8K\\n\\u2022 Ch\\u1EBF \\u0111\\u1ED9 chuy\\xEAn nghi\\u1EC7p\\n\\u2022 AI scene detection\\n\\nB\\u1EA1n th\\xEDch ch\\u1EE5p g\\xEC? Ch\\xE2n dung, phong c\\u1EA3nh, hay macro? \\uD83C\\uDF05\";}if(lowerMessage.includes('pin')||lowerMessage.includes('battery')){return\"\\uD83D\\uDD0B \\u0110i\\u1EC7n tho\\u1EA1i pin t\\u1ED1t nh\\u1EA5t:\\n\\n\\uD83D\\uDCF1 **Top Battery Life:**\\n\\u2022 Samsung Galaxy S23 Ultra - 5000mAh\\n\\u2022 iPhone 15 Plus - Pin c\\u1EA3 ng\\xE0y\\n\\u2022 Xiaomi Redmi Note 12 - 5000mAh gi\\xE1 r\\u1EBB\\n\\u2022 OnePlus 11 - S\\u1EA1c nhanh 100W\\n\\n\\u26A1 **T\\xEDnh n\\u0103ng pin:**\\n\\u2022 Dung l\\u01B0\\u1EE3ng l\\u1EDBn (4000mAh+)\\n\\u2022 S\\u1EA1c nhanh (30W+)\\n\\u2022 S\\u1EA1c kh\\xF4ng d\\xE2y\\n\\u2022 Ti\\u1EBFt ki\\u1EC7m \\u0111i\\u1EC7n\\n\\u2022 Reverse charging\\n\\nB\\u1EA1n c\\u1EA7n pin d\\xF9ng \\u0111\\u01B0\\u1EE3c bao l\\xE2u? 1 ng\\xE0y hay nhi\\u1EC1u h\\u01A1n? \\u23F0\";}if(lowerMessage.includes('gi√° r·∫ª')||lowerMessage.includes('budget')||lowerMessage.includes('ti·∫øt ki·ªám')){return\"\\uD83D\\uDCB0 \\u0110i\\u1EC7n tho\\u1EA1i gi\\xE1 r\\u1EBB t\\u1ED1t nh\\u1EA5t:\\n\\n\\uD83D\\uDCF1 **Budget Phones:**\\n\\u2022 Xiaomi Redmi Note 12 - 4.290.000\\u0111\\n\\u2022 Samsung Galaxy A14 - 3.990.000\\u0111\\n\\u2022 iPhone SE (2022) - 9.990.000\\u0111\\n\\u2022 Realme C55 - 3.490.000\\u0111\\n\\n\\uD83D\\uDCA1 **L\\u1EDDi khuy\\xEAn:**\\n\\u2022 D\\u01B0\\u1EDBi 5tr: Xiaomi, Realme\\n\\u2022 5-10tr: Samsung A series\\n\\u2022 10-15tr: iPhone SE, Samsung S\\n\\u2022 Tr\\xEAn 15tr: Flagship models\\n\\nB\\u1EA1n c\\xF3 ng\\xE2n s\\xE1ch bao nhi\\xEAu? T\\xF4i s\\u1EBD g\\u1EE3i \\xFD ph\\xF9 h\\u1EE3p! \\uD83D\\uDCB8\";}if(lowerMessage.includes('so s√°nh')||lowerMessage.includes('compare')){return\"\\uD83D\\uDCCA T\\xF4i c\\xF3 th\\u1EC3 so s\\xE1nh \\u0111i\\u1EC7n tho\\u1EA1i cho b\\u1EA1n!\\n\\n\\uD83D\\uDD0D **H\\xE3y cho t\\xF4i bi\\u1EBFt:**\\n\\u2022 2-3 \\u0111i\\u1EC7n tho\\u1EA1i b\\u1EA1n mu\\u1ED1n so s\\xE1nh\\n\\u2022 Ti\\xEAu ch\\xED quan tr\\u1ECDng (gi\\xE1, camera, pin, hi\\u1EC7u n\\u0103ng)\\n\\u2022 Ng\\xE2n s\\xE1ch c\\u1EE7a b\\u1EA1n\\n\\n\\uD83D\\uDCC8 **T\\xF4i s\\u1EBD so s\\xE1nh:**\\n\\u2022 Gi\\xE1 c\\u1EA3\\n\\u2022 Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt\\n\\u2022 Camera\\n\\u2022 Pin\\n\\u2022 Hi\\u1EC7u n\\u0103ng\\n\\u2022 T\\xEDnh n\\u0103ng \\u0111\\u1EB7c bi\\u1EC7t\\n\\nV\\xED d\\u1EE5: \\\"So s\\xE1nh iPhone 15 Pro v\\xE0 Galaxy S23 Ultra\\\" \\uD83D\\uDCF1\";}if(lowerMessage.includes('khuy·∫øn m√£i')||lowerMessage.includes('sale')||lowerMessage.includes('gi·∫£m gi√°')){return\"\\uD83C\\uDF89 Th\\xF4ng tin khuy\\u1EBFn m\\xE3i hi\\u1EC7n t\\u1EA1i:\\n\\n\\uD83D\\uDCB0 **Khuy\\u1EBFn m\\xE3i \\u0111ang di\\u1EC5n ra:**\\n\\u2022 iPhone 15 series - Gi\\u1EA3m \\u0111\\u1EBFn 2 tri\\u1EC7u\\n\\u2022 Samsung Galaxy S23 - T\\u1EB7ng Galaxy Buds\\n\\u2022 Xiaomi Redmi Note 12 - Gi\\u1EA3m 500k\\n\\u2022 Accessories - Gi\\u1EA3m 30%\\n\\n\\uD83C\\uDF81 **\\u01AFu \\u0111\\xE3i \\u0111\\u1EB7c bi\\u1EC7t:**\\n\\u2022 Tr\\u1EA3 g\\xF3p 0% l\\xE3i su\\u1EA5t\\n\\u2022 T\\u1EB7ng ph\\u1EE5 ki\\u1EC7n\\n\\u2022 B\\u1EA3o h\\xE0nh m\\u1EDF r\\u1ED9ng\\n\\u2022 \\u0110\\u1ED5i c\\u0169 l\\u1EA5y m\\u1EDBi\\n\\nB\\u1EA1n quan t\\xE2m s\\u1EA3n ph\\u1EA9m n\\xE0o? T\\xF4i s\\u1EBD ki\\u1EC3m tra khuy\\u1EBFn m\\xE3i c\\u1EE5 th\\u1EC3! \\uD83D\\uDED2\";}// Default response for unknown questions\nreturn\"\\uD83E\\uDD16 T\\xF4i hi\\u1EC3u b\\u1EA1n \\u0111ang h\\u1ECFi v\\u1EC1 \\\"\".concat(userMessage,\"\\\". \\n\\n\\u0110\\u1EC3 t\\xF4i c\\xF3 th\\u1EC3 h\\u1ED7 tr\\u1EE3 t\\u1ED1t nh\\u1EA5t, b\\u1EA1n c\\xF3 th\\u1EC3 h\\u1ECFi v\\u1EC1:\\n\\n\\uD83D\\uDCF1 **S\\u1EA3n ph\\u1EA9m:** iPhone, Samsung, Xiaomi, Google Pixel...\\n\\uD83D\\uDCB0 **Gi\\xE1 c\\u1EA3:** D\\u01B0\\u1EDBi 5tr, 5-10tr, 10-20tr, tr\\xEAn 20tr...\\n\\uD83D\\uDD0D **T\\xEDnh n\\u0103ng:** Camera, pin, hi\\u1EC7u n\\u0103ng, gaming...\\n\\uD83D\\uDCCA **So s\\xE1nh:** Gi\\u1EEFa c\\xE1c s\\u1EA3n ph\\u1EA9m\\n\\uD83C\\uDFAF **M\\u1EE5c \\u0111\\xEDch:** H\\u1ECDc t\\u1EADp, l\\xE0m vi\\u1EC7c, ch\\u1EE5p \\u1EA3nh, gaming...\\n\\uD83C\\uDF89 **Khuy\\u1EBFn m\\xE3i:** Sale, gi\\u1EA3m gi\\xE1, tr\\u1EA3 g\\xF3p...\\n\\nHo\\u1EB7c b\\u1EA1n c\\xF3 th\\u1EC3 h\\u1ECFi b\\u1EA5t k\\u1EF3 c\\xE2u h\\u1ECFi n\\xE0o kh\\xE1c! T\\xF4i s\\u1EBD c\\u1ED1 g\\u1EAFng tr\\u1EA3 l\\u1EDDi t\\u1ED1t nh\\u1EA5t c\\xF3 th\\u1EC3! \\uD83D\\uDE0A\");};const handleSendMessage=async()=>{if(!inputText.trim())return;const userMessage={id:Date.now(),text:inputText,sender:'user',timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputText('');const botResponse=await getAIResponse(inputText);const botMessage={id:Date.now()+1,text:botResponse,sender:'bot',timestamp:new Date()};setMessages(prev=>[...prev,botMessage]);};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};const quickQuestions=[\"ƒêi·ªán tho·∫°i n√†o t·ªët nh·∫•t?\",\"So s√°nh iPhone v√† Samsung\",\"ƒêi·ªán tho·∫°i n√†o pin t·ªët?\",\"Camera n√†o ch·ª•p ƒë√™m t·ªët?\",\"ƒêi·ªán tho·∫°i gaming t·ªët nh·∫•t?\",\"Khuy·∫øn m√£i g√¨ ƒëang c√≥?\"];return/*#__PURE__*/_jsxs(\"div\",{className:\"global-ai-chatbot \".concat(isOpen?'open':''),children:[/*#__PURE__*/_jsxs(\"button\",{className:\"chat-toggle\",onClick:()=>setIsOpen(!isOpen),children:[/*#__PURE__*/_jsx(\"span\",{className:\"chat-icon\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"span\",{className:\"chat-text\",children:\"AI Assistant\"}),/*#__PURE__*/_jsx(\"span\",{className:\"chat-badge\",children:\"NEW\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-window\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bot-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bot-avatar\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bot-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"AI Assistant\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status\",children:\"Lu\\xF4n s\\u1EB5n s\\xE0ng\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setIsOpen(false),children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-messages\",children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.sender),children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.text.split('\\n').map((line,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[line,index<message.text.split('\\n').length-1&&/*#__PURE__*/_jsx(\"br\",{})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:message.timestamp.toLocaleTimeString('vi-VN',{hour:'2-digit',minute:'2-digit'})})]})},message.id)),isTyping&&/*#__PURE__*/_jsx(\"div\",{className:\"message bot\",children:/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"typing-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),messages.length===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"quick-questions\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"C\\xE2u h\\u1ECFi th\\u01B0\\u1EDDng g\\u1EB7p:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question-buttons\",children:quickQuestions.map((question,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"question-btn\",onClick:()=>setInputText(question),children:question},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputText,onChange:e=>setInputText(e.target.value),onKeyPress:handleKeyPress,placeholder:\"H\\u1ECFi t\\xF4i b\\u1EA5t k\\u1EF3 \\u0111i\\u1EC1u g\\xEC...\",className:\"message-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,className:\"send-btn\",disabled:!inputText.trim(),children:/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCE4\"})})]})]})]});}export default GlobalAIChatbot;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","GlobalAIChatbot","isOpen","setIsOpen","messages","setMessages","id","text","sender","timestamp","Date","inputText","setInputText","isTyping","setIsTyping","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","getAIResponse","userMessage","_data$data","_data$data2","_data$data2$raw","_data$data3","_data$data3$raw","response","fetch","method","headers","body","JSON","stringify","prompt","temperature","maxOutputTokens","ok","Error","data","json","raw","candidates","map","c","output","join","error","console","getEnhancedLocalResponse","lowerMessage","toLowerCase","includes","now","concat","toLocaleTimeString","toLocaleDateString","handleSendMessage","trim","prev","botResponse","botMessage","handleKeyPress","e","key","shiftKey","preventDefault","quickQuestions","className","children","onClick","message","split","line","index","length","hour","minute","ref","question","type","value","onChange","target","onKeyPress","placeholder","disabled"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/components/GlobalAIChatbot/GlobalAIChatbot.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './GlobalAIChatbot.css';\r\n\r\nfunction GlobalAIChatbot() {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [messages, setMessages] = useState([\r\n        {\r\n            id: 1,\r\n            text: \"Xin ch√†o! T√¥i l√† AI Assistant c·ªßa Cellphones. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n:\\n\\nü§ñ Tr·∫£ l·ªùi m·ªçi c√¢u h·ªèi\\nüì± T∆∞ v·∫•n s·∫£n ph·∫©m ƒëi·ªán tho·∫°i\\nüí∞ So s√°nh gi√° c·∫£\\nüîç T√¨m ki·∫øm th√¥ng tin\\nüí° ƒê∆∞a ra g·ª£i √Ω mua s·∫Øm\\n\\nB·∫°n mu·ªën h·ªèi g√¨?\",\r\n            sender: 'bot',\r\n            timestamp: new Date()\r\n        }\r\n    ]);\r\n    const [inputText, setInputText] = useState('');\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const messagesEndRef = useRef(null);\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    // Enhanced AI response v·ªõi OpenAI/Gemini integration\r\n    const getAIResponse = async (userMessage) => {\r\n        setIsTyping(true);\r\n        \r\n        try {\r\n            // Call backend AI API\r\n            const response = await fetch('http://localhost:4000/genai/chat', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    prompt: userMessage,\r\n                    temperature: 0.7,\r\n                    maxOutputTokens: 1024\r\n                })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('API call failed');\r\n            }\r\n\r\n            const data = await response.json();\r\n            return data?.data?.text || data?.data?.raw?.text ||\r\n                (data?.data?.raw?.candidates && data.data.raw.candidates.map(c=>c.output||'').join('\\n')) ||\r\n                'Xin l·ªói, t√¥i ch∆∞a nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi t·ª´ AI.';\r\n            \r\n        } catch (error) {\r\n            console.error('AI API Error:', error);\r\n            \r\n            // Fallback to enhanced local responses\r\n            return getEnhancedLocalResponse(userMessage);\r\n        } finally {\r\n            setIsTyping(false);\r\n        }\r\n    };\r\n\r\n    // Enhanced local responses (fallback)\r\n    const getEnhancedLocalResponse = (userMessage) => {\r\n        const lowerMessage = userMessage.toLowerCase();\r\n        \r\n        // General knowledge questions\r\n        if (lowerMessage.includes('th·ªùi ti·∫øt') || lowerMessage.includes('weather')) {\r\n            return `üå§Ô∏è T√¥i kh√¥ng th·ªÉ cung c·∫•p th√¥ng tin th·ªùi ti·∫øt th·ªùi gian th·ª±c, nh∆∞ng b·∫°n c√≥ th·ªÉ:\\n\\n‚Ä¢ Ki·ªÉm tra ·ª©ng d·ª•ng th·ªùi ti·∫øt tr√™n ƒëi·ªán tho·∫°i\\n‚Ä¢ H·ªèi Google Assistant ho·∫∑c Siri\\n‚Ä¢ Truy c·∫≠p trang web th·ªùi ti·∫øt\\n\\nT√¥i c√≥ th·ªÉ gi√∫p b·∫°n t√¨m ƒëi·ªán tho·∫°i c√≥ ·ª©ng d·ª•ng th·ªùi ti·∫øt t·ªët! üì±`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('gi·ªù') || lowerMessage.includes('time')) {\r\n            const now = new Date();\r\n            return `üïê Hi·ªán t·∫°i l√† ${now.toLocaleTimeString('vi-VN')} ng√†y ${now.toLocaleDateString('vi-VN')}\\n\\nB·∫°n c√≥ c·∫ßn ƒëi·ªán tho·∫°i c√≥ ƒë·ªìng h·ªì ƒë·∫πp kh√¥ng? T√¥i c√≥ th·ªÉ g·ª£i √Ω! ‚è∞`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('h·ªçc') || lowerMessage.includes('study') || lowerMessage.includes('h·ªçc t·∫≠p')) {\r\n            return `üìö T√¥i c√≥ th·ªÉ gi√∫p b·∫°n t√¨m ƒëi·ªán tho·∫°i ph√π h·ª£p cho vi·ªác h·ªçc t·∫≠p:\\n\\nüì± **ƒêi·ªán tho·∫°i h·ªçc t·∫≠p t·ªët:**\\n‚Ä¢ iPhone SE - Compact, hi·ªáu nƒÉng t·ªët\\n‚Ä¢ Samsung Galaxy A54 - M√†n h√¨nh l·ªõn, pin t·ªët\\n‚Ä¢ Xiaomi Redmi Note 12 - Gi√° r·∫ª, ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng\\n\\nüí° **T√≠nh nƒÉng h·ªØu √≠ch:**\\n‚Ä¢ M√†n h√¨nh l·ªõn ƒë·ªÉ ƒë·ªçc s√°ch\\n‚Ä¢ Pin t·ªët ƒë·ªÉ h·ªçc c·∫£ ng√†y\\n‚Ä¢ Camera t·ªët ƒë·ªÉ ch·ª•p b√†i gi·∫£ng\\n‚Ä¢ B·ªô nh·ªõ l·ªõn ƒë·ªÉ l∆∞u t√†i li·ªáu\\n\\nB·∫°n h·ªçc ng√†nh g√¨? T√¥i s·∫Ω g·ª£i √Ω ph√π h·ª£p! üéì`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('l√†m vi·ªác') || lowerMessage.includes('work') || lowerMessage.includes('c√¥ng vi·ªác')) {\r\n            return `üíº ƒê·ªÉ l√†m vi·ªác hi·ªáu qu·∫£, b·∫°n c·∫ßn ƒëi·ªán tho·∫°i c√≥:\\n\\nüì± **ƒêi·ªán tho·∫°i l√†m vi·ªác t·ªët:**\\n‚Ä¢ iPhone 15 Pro - Hi·ªáu nƒÉng cao, camera chuy√™n nghi·ªáp\\n‚Ä¢ Samsung Galaxy S23 Ultra - S Pen, ƒëa nhi·ªám t·ªët\\n‚Ä¢ Google Pixel 8 Pro - AI t√≠ch h·ª£p, camera xu·∫•t s·∫Øc\\n\\nüíº **T√≠nh nƒÉng quan tr·ªçng:**\\n‚Ä¢ Email, calendar t√≠ch h·ª£p\\n‚Ä¢ Video call ch·∫•t l∆∞·ª£ng cao\\n‚Ä¢ Ch·ª•p ·∫£nh t√†i li·ªáu r√µ n√©t\\n‚Ä¢ Pin c·∫£ ng√†y\\n‚Ä¢ B·∫£o m·∫≠t cao\\n\\nB·∫°n l√†m ngh·ªÅ g√¨? T√¥i s·∫Ω t∆∞ v·∫•n c·ª• th·ªÉ! üè¢`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('ch∆°i game') || lowerMessage.includes('gaming')) {\r\n            return `üéÆ ƒêi·ªán tho·∫°i gaming t·ªët nh·∫•t:\\n\\nüì± **Top Gaming Phones:**\\n‚Ä¢ iPhone 15 Pro Max - Chip A17 Pro m·∫°nh nh·∫•t\\n‚Ä¢ Samsung Galaxy S23 Ultra - Snapdragon 8 Gen 2\\n‚Ä¢ ASUS ROG Phone 7 - Chuy√™n gaming\\n‚Ä¢ Xiaomi Black Shark 5 Pro - Gi√° t·ªët\\n\\nüéØ **T√≠nh nƒÉng gaming:**\\n‚Ä¢ Chip x·ª≠ l√Ω m·∫°nh\\n‚Ä¢ RAM l·ªõn (8GB+)\\n‚Ä¢ M√†n h√¨nh 120Hz+\\n‚Ä¢ Pin l·ªõn\\n‚Ä¢ T·∫£n nhi·ªát t·ªët\\n‚Ä¢ √Çm thanh stereo\\n\\nB·∫°n ch∆°i game g√¨? PUBG, Mobile Legends, hay game kh√°c? üïπÔ∏è`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('ch·ª•p ·∫£nh') || lowerMessage.includes('camera') || lowerMessage.includes('photo')) {\r\n            return `üì∏ ƒêi·ªán tho·∫°i camera t·ªët nh·∫•t:\\n\\nüì± **Top Camera Phones:**\\n‚Ä¢ iPhone 15 Pro Max - Camera 48MP, zoom 5x\\n‚Ä¢ Samsung Galaxy S23 Ultra - Camera 200MP\\n‚Ä¢ Google Pixel 8 Pro - AI Magic Eraser\\n‚Ä¢ Xiaomi 13 Ultra - Leica camera\\n\\nüì∑ **T√≠nh nƒÉng camera:**\\n‚Ä¢ Ch·ª•p ƒë√™m xu·∫•t s·∫Øc\\n‚Ä¢ Zoom quang h·ªçc\\n‚Ä¢ Video 4K/8K\\n‚Ä¢ Ch·∫ø ƒë·ªô chuy√™n nghi·ªáp\\n‚Ä¢ AI scene detection\\n\\nB·∫°n th√≠ch ch·ª•p g√¨? Ch√¢n dung, phong c·∫£nh, hay macro? üåÖ`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('pin') || lowerMessage.includes('battery')) {\r\n            return `üîã ƒêi·ªán tho·∫°i pin t·ªët nh·∫•t:\\n\\nüì± **Top Battery Life:**\\n‚Ä¢ Samsung Galaxy S23 Ultra - 5000mAh\\n‚Ä¢ iPhone 15 Plus - Pin c·∫£ ng√†y\\n‚Ä¢ Xiaomi Redmi Note 12 - 5000mAh gi√° r·∫ª\\n‚Ä¢ OnePlus 11 - S·∫°c nhanh 100W\\n\\n‚ö° **T√≠nh nƒÉng pin:**\\n‚Ä¢ Dung l∆∞·ª£ng l·ªõn (4000mAh+)\\n‚Ä¢ S·∫°c nhanh (30W+)\\n‚Ä¢ S·∫°c kh√¥ng d√¢y\\n‚Ä¢ Ti·∫øt ki·ªám ƒëi·ªán\\n‚Ä¢ Reverse charging\\n\\nB·∫°n c·∫ßn pin d√πng ƒë∆∞·ª£c bao l√¢u? 1 ng√†y hay nhi·ªÅu h∆°n? ‚è∞`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('gi√° r·∫ª') || lowerMessage.includes('budget') || lowerMessage.includes('ti·∫øt ki·ªám')) {\r\n            return `üí∞ ƒêi·ªán tho·∫°i gi√° r·∫ª t·ªët nh·∫•t:\\n\\nüì± **Budget Phones:**\\n‚Ä¢ Xiaomi Redmi Note 12 - 4.290.000ƒë\\n‚Ä¢ Samsung Galaxy A14 - 3.990.000ƒë\\n‚Ä¢ iPhone SE (2022) - 9.990.000ƒë\\n‚Ä¢ Realme C55 - 3.490.000ƒë\\n\\nüí° **L·ªùi khuy√™n:**\\n‚Ä¢ D∆∞·ªõi 5tr: Xiaomi, Realme\\n‚Ä¢ 5-10tr: Samsung A series\\n‚Ä¢ 10-15tr: iPhone SE, Samsung S\\n‚Ä¢ Tr√™n 15tr: Flagship models\\n\\nB·∫°n c√≥ ng√¢n s√°ch bao nhi√™u? T√¥i s·∫Ω g·ª£i √Ω ph√π h·ª£p! üí∏`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('so s√°nh') || lowerMessage.includes('compare')) {\r\n            return `üìä T√¥i c√≥ th·ªÉ so s√°nh ƒëi·ªán tho·∫°i cho b·∫°n!\\n\\nüîç **H√£y cho t√¥i bi·∫øt:**\\n‚Ä¢ 2-3 ƒëi·ªán tho·∫°i b·∫°n mu·ªën so s√°nh\\n‚Ä¢ Ti√™u ch√≠ quan tr·ªçng (gi√°, camera, pin, hi·ªáu nƒÉng)\\n‚Ä¢ Ng√¢n s√°ch c·ªßa b·∫°n\\n\\nüìà **T√¥i s·∫Ω so s√°nh:**\\n‚Ä¢ Gi√° c·∫£\\n‚Ä¢ Th√¥ng s·ªë k·ªπ thu·∫≠t\\n‚Ä¢ Camera\\n‚Ä¢ Pin\\n‚Ä¢ Hi·ªáu nƒÉng\\n‚Ä¢ T√≠nh nƒÉng ƒë·∫∑c bi·ªát\\n\\nV√≠ d·ª•: \"So s√°nh iPhone 15 Pro v√† Galaxy S23 Ultra\" üì±`;\r\n        }\r\n        \r\n        if (lowerMessage.includes('khuy·∫øn m√£i') || lowerMessage.includes('sale') || lowerMessage.includes('gi·∫£m gi√°')) {\r\n            return `üéâ Th√¥ng tin khuy·∫øn m√£i hi·ªán t·∫°i:\\n\\nüí∞ **Khuy·∫øn m√£i ƒëang di·ªÖn ra:**\\n‚Ä¢ iPhone 15 series - Gi·∫£m ƒë·∫øn 2 tri·ªáu\\n‚Ä¢ Samsung Galaxy S23 - T·∫∑ng Galaxy Buds\\n‚Ä¢ Xiaomi Redmi Note 12 - Gi·∫£m 500k\\n‚Ä¢ Accessories - Gi·∫£m 30%\\n\\nüéÅ **∆Øu ƒë√£i ƒë·∫∑c bi·ªát:**\\n‚Ä¢ Tr·∫£ g√≥p 0% l√£i su·∫•t\\n‚Ä¢ T·∫∑ng ph·ª• ki·ªán\\n‚Ä¢ B·∫£o h√†nh m·ªü r·ªông\\n‚Ä¢ ƒê·ªïi c≈© l·∫•y m·ªõi\\n\\nB·∫°n quan t√¢m s·∫£n ph·∫©m n√†o? T√¥i s·∫Ω ki·ªÉm tra khuy·∫øn m√£i c·ª• th·ªÉ! üõí`;\r\n        }\r\n        \r\n        // Default response for unknown questions\r\n        return `ü§ñ T√¥i hi·ªÉu b·∫°n ƒëang h·ªèi v·ªÅ \"${userMessage}\". \r\n\r\nƒê·ªÉ t√¥i c√≥ th·ªÉ h·ªó tr·ª£ t·ªët nh·∫•t, b·∫°n c√≥ th·ªÉ h·ªèi v·ªÅ:\r\n\r\nüì± **S·∫£n ph·∫©m:** iPhone, Samsung, Xiaomi, Google Pixel...\r\nüí∞ **Gi√° c·∫£:** D∆∞·ªõi 5tr, 5-10tr, 10-20tr, tr√™n 20tr...\r\nüîç **T√≠nh nƒÉng:** Camera, pin, hi·ªáu nƒÉng, gaming...\r\nüìä **So s√°nh:** Gi·ªØa c√°c s·∫£n ph·∫©m\r\nüéØ **M·ª•c ƒë√≠ch:** H·ªçc t·∫≠p, l√†m vi·ªác, ch·ª•p ·∫£nh, gaming...\r\nüéâ **Khuy·∫øn m√£i:** Sale, gi·∫£m gi√°, tr·∫£ g√≥p...\r\n\r\nHo·∫∑c b·∫°n c√≥ th·ªÉ h·ªèi b·∫•t k·ª≥ c√¢u h·ªèi n√†o kh√°c! T√¥i s·∫Ω c·ªë g·∫Øng tr·∫£ l·ªùi t·ªët nh·∫•t c√≥ th·ªÉ! üòä`;\r\n    };\r\n\r\n    const handleSendMessage = async () => {\r\n        if (!inputText.trim()) return;\r\n\r\n        const userMessage = {\r\n            id: Date.now(),\r\n            text: inputText,\r\n            sender: 'user',\r\n            timestamp: new Date()\r\n        };\r\n\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInputText('');\r\n\r\n        const botResponse = await getAIResponse(inputText);\r\n        \r\n        const botMessage = {\r\n            id: Date.now() + 1,\r\n            text: botResponse,\r\n            sender: 'bot',\r\n            timestamp: new Date()\r\n        };\r\n\r\n        setMessages(prev => [...prev, botMessage]);\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            e.preventDefault();\r\n            handleSendMessage();\r\n        }\r\n    };\r\n\r\n    const quickQuestions = [\r\n        \"ƒêi·ªán tho·∫°i n√†o t·ªët nh·∫•t?\",\r\n        \"So s√°nh iPhone v√† Samsung\",\r\n        \"ƒêi·ªán tho·∫°i n√†o pin t·ªët?\",\r\n        \"Camera n√†o ch·ª•p ƒë√™m t·ªët?\",\r\n        \"ƒêi·ªán tho·∫°i gaming t·ªët nh·∫•t?\",\r\n        \"Khuy·∫øn m√£i g√¨ ƒëang c√≥?\"\r\n    ];\r\n\r\n    return (\r\n        <div className={`global-ai-chatbot ${isOpen ? 'open' : ''}`}>\r\n            {/* Chat Button */}\r\n            <button \r\n                className=\"chat-toggle\"\r\n                onClick={() => setIsOpen(!isOpen)}\r\n            >\r\n                <span className=\"chat-icon\">ü§ñ</span>\r\n                <span className=\"chat-text\">AI Assistant</span>\r\n                <span className=\"chat-badge\">NEW</span>\r\n            </button>\r\n\r\n            {/* Chat Window */}\r\n            <div className=\"chat-window\">\r\n                <div className=\"chat-header\">\r\n                    <div className=\"bot-info\">\r\n                        <div className=\"bot-avatar\">ü§ñ</div>\r\n                        <div className=\"bot-details\">\r\n                            <h3>AI Assistant</h3>\r\n                            <span className=\"status\">Lu√¥n s·∫µn s√†ng</span>\r\n                        </div>\r\n                    </div>\r\n                    <button \r\n                        className=\"close-btn\"\r\n                        onClick={() => setIsOpen(false)}\r\n                    >\r\n                        ‚úï\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"chat-messages\">\r\n                    {messages.map((message) => (\r\n                        <div \r\n                            key={message.id} \r\n                            className={`message ${message.sender}`}\r\n                        >\r\n                            <div className=\"message-content\">\r\n                                <div className=\"message-text\">\r\n                                    {message.text.split('\\n').map((line, index) => (\r\n                                        <div key={index}>\r\n                                            {line}\r\n                                            {index < message.text.split('\\n').length - 1 && <br />}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"message-time\">\r\n                                    {message.timestamp.toLocaleTimeString('vi-VN', { \r\n                                        hour: '2-digit', \r\n                                        minute: '2-digit' \r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    \r\n                    {isTyping && (\r\n                        <div className=\"message bot\">\r\n                            <div className=\"message-content\">\r\n                                <div className=\"typing-indicator\">\r\n                                    <span></span>\r\n                                    <span></span>\r\n                                    <span></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    \r\n                    <div ref={messagesEndRef} />\r\n                </div>\r\n\r\n                {/* Quick Questions */}\r\n                {messages.length === 1 && (\r\n                    <div className=\"quick-questions\">\r\n                        <h4>C√¢u h·ªèi th∆∞·ªùng g·∫∑p:</h4>\r\n                        <div className=\"question-buttons\">\r\n                            {quickQuestions.map((question, index) => (\r\n                                <button \r\n                                    key={index}\r\n                                    className=\"question-btn\"\r\n                                    onClick={() => setInputText(question)}\r\n                                >\r\n                                    {question}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"chat-input\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={inputText}\r\n                        onChange={(e) => setInputText(e.target.value)}\r\n                        onKeyPress={handleKeyPress}\r\n                        placeholder=\"H·ªèi t√¥i b·∫•t k·ª≥ ƒëi·ªÅu g√¨...\"\r\n                        className=\"message-input\"\r\n                    />\r\n                    <button \r\n                        onClick={handleSendMessage}\r\n                        className=\"send-btn\"\r\n                        disabled={!inputText.trim()}\r\n                    >\r\n                        <span>üì§</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GlobalAIChatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}