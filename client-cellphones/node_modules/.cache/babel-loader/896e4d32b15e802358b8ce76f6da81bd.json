{"ast":null,"code":"import _objectSpread from\"C:/Users/admin/Download/project-long/cellphones/client-cellphones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export const CartReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{cartItems:[]};let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'ADD_TO_CART':{let newList=[...state.cartItems];const exists=newList.find(item=>item._id===action.payload._id);if(exists){newList=newList.map(item=>item._id===action.payload._id?_objectSpread(_objectSpread({},exists),{},{qty:exists.qty+1}):item);}else{const product=_objectSpread(_objectSpread({},action.payload),{},{qty:1});newList.push(product);}localStorage.setItem('cartItems',JSON.stringify(newList));return _objectSpread(_objectSpread({},state),{},{cartItems:newList});}case'DELETE_TO_CART':{let newList=[...state.cartItems];const exists=newList.find(item=>item._id===action.payload._id);if(exists.qty===1){newList=newList.filter(item=>item._id!==exists._id);}else{newList=newList.map(item=>item._id===action.payload._id?_objectSpread(_objectSpread({},exists),{},{qty:exists.qty-1}):item);}localStorage.setItem('cartItems',JSON.stringify(newList));return _objectSpread(_objectSpread({},state),{},{cartItems:newList});}case'DELETE_QTY_PRODUCT':{let newList=[...state.cartItems];newList=newList.filter(item=>item._id!==action.payload._id);localStorage.setItem('cartItems',JSON.stringify(newList));return _objectSpread(_objectSpread({},state),{},{cartItems:newList});}case'CART_EMTY':{return _objectSpread(_objectSpread({},state),{},{cartItems:[]});}default:return state;}};","map":{"version":3,"names":["CartReducer","state","arguments","length","undefined","cartItems","action","type","newList","exists","find","item","_id","payload","map","_objectSpread","qty","product","push","localStorage","setItem","JSON","stringify","filter"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/reducers/CartReducer.js"],"sourcesContent":["\r\nexport const CartReducer = (state = {cartItems: []}, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TO_CART': {\r\n            let newList = [...state.cartItems]\r\n            const exists = newList.find(item => item._id === action.payload._id)\r\n            if (exists) {\r\n                newList = newList.map((item) => item._id === action.payload._id ? { ...exists, qty: exists.qty + 1 } : item)\r\n            }else{\r\n                const product = {\r\n                    ...action.payload,\r\n                    qty: 1,\r\n                }\r\n                newList.push(product);\r\n            }\r\n\r\n            localStorage.setItem('cartItems', JSON.stringify(newList))\r\n            return {\r\n                ...state,\r\n                cartItems: newList\r\n            };\r\n        }\r\n            \r\n        \r\n        case 'DELETE_TO_CART': {\r\n            let newList = [...state.cartItems]\r\n            const exists = newList.find(item => item._id === action.payload._id)\r\n            if (exists.qty === 1) {\r\n                newList = newList.filter((item) => item._id !== exists._id)\r\n            }else{\r\n                newList = newList.map((item) => item._id === action.payload._id ? { ...exists, qty: exists.qty - 1 } : item)\r\n            }\r\n    \r\n            localStorage.setItem('cartItems', JSON.stringify(newList))\r\n            return {\r\n                ...state,\r\n                cartItems: newList\r\n            };\r\n        }\r\n            \r\n        case 'DELETE_QTY_PRODUCT': {\r\n            let newList = [...state.cartItems]\r\n            \r\n            newList = newList.filter((item) => item._id !== action.payload._id)\r\n            \r\n            localStorage.setItem('cartItems', JSON.stringify(newList))\r\n            return {\r\n                ...state,\r\n                cartItems: newList\r\n            };\r\n        }\r\n\r\n        case 'CART_EMTY':{\r\n            return {...state, cartItems: []}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}