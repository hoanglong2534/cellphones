{"ast":null,"code":"import _objectSpread from\"C:/Users/admin/Download/project-long/cellphones/client-cellphones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState}from\"react\";import{useForm}from\"react-hook-form\";import{useSelector,useDispatch}from\"react-redux\";import{editCurrentPage,saveProduct}from\"../../../../actions/ProductAction\";import{useHistory}from\"react-router-dom\";import{getAllSelectList}from\"../../../../actions/SelectListAction\";import{getAllTypeProduct}from\"../../../../actions/ListTypeProductAction\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminCreate(props){const{register,handleSubmit}=useForm({defaultValues:{}});const dispatch=useDispatch();const history=useHistory();const[image,setImage]=useState(\"\");const[activeTypeProduct,setActiveTypeproduct]=useState(\"\");const SelectList=useSelector(state=>state.selectList.List);const{pages}=useSelector(state=>state.allProduct.product);const{List}=useSelector(state=>state.allTypeProduct);useEffect(()=>{dispatch(getAllSelectList());},[dispatch]);useEffect(()=>{dispatch(getAllTypeProduct());},[dispatch]);const handleFileImageChange=e=>{setImage(e.target.files[0]);};const onSubmit=async data=>{let formData=new FormData();formData.append(\"name\",data.name);formData.append(\"price\",data.price);formData.append(\"amount\",data.amount);formData.append(\"salePrice\",data.salePrice);formData.append(\"type\",activeTypeProduct);formData.append(\"image\",image);formData.append(\"os\",data.os);formData.append(\"ram\",data.ram);formData.append(\"battery\",data.battery);formData.append(\"rom\",data.rom);formData.append(\"camera\",data.camera);formData.append(\"special\",data.special);formData.append(\"design\",data.design);formData.append(\"screen\",data.screen);await dispatch(saveProduct(formData));await dispatch(editCurrentPage(pages));history.push(\"/admin/product\");};const MenuFirmProduct=item=>/*#__PURE__*/_jsx(\"div\",{className:activeTypeProduct===item.name?\"filter-menu-firm-item active\":\"filter-menu-firm-item\",onClick:()=>HandleFilterProductByType(item.name),children:/*#__PURE__*/_jsx(\"img\",{src:item.img})});const HandleFilterProductByType=name=>{setActiveTypeproduct(name);};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-create\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Create Product\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"admin-create-product\",onSubmit:handleSubmit(onSubmit),encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"name\")),{},{placeholder:\"Name\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"amount\")),{},{placeholder:\"Amount\",type:\"number\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"price\")),{},{placeholder:\"Price\",type:\"number\"})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"salePrice\")),{},{placeholder:\"SalePrice\",type:\"number\"})),/*#__PURE__*/_jsx(\"div\",{className:\"filter-menu-firm\",children:List?List.map(item=>MenuFirmProduct(item)):''}),SelectList&&SelectList.length>0?SelectList.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"select-type\",children:/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"\".concat(item.property))),{},{children:[/*#__PURE__*/_jsx(\"option\",{children:item.name}),item.options.map(x=>/*#__PURE__*/_jsx(\"option\",{value:x,children:x}))]}))})):\"\",/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"file\"},register(\"image\")),{},{onChange:handleFileImageChange})),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Product\"})]})]});}export default AdminCreate;","map":{"version":3,"names":["React","useEffect","useState","useForm","useSelector","useDispatch","editCurrentPage","saveProduct","useHistory","getAllSelectList","getAllTypeProduct","jsx","_jsx","jsxs","_jsxs","AdminCreate","props","register","handleSubmit","defaultValues","dispatch","history","image","setImage","activeTypeProduct","setActiveTypeproduct","SelectList","state","selectList","List","pages","allProduct","product","allTypeProduct","handleFileImageChange","e","target","files","onSubmit","data","formData","FormData","append","name","price","amount","salePrice","os","ram","battery","rom","camera","special","design","screen","push","MenuFirmProduct","item","className","onClick","HandleFilterProductByType","children","src","img","encType","_objectSpread","placeholder","type","map","length","concat","property","options","x","value","onChange"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/components/Admin/components/AdminProduct/AdminCreate.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  editCurrentPage,\r\n  saveProduct,\r\n} from \"../../../../actions/ProductAction\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getAllSelectList } from \"../../../../actions/SelectListAction\";\r\nimport { getAllTypeProduct } from \"../../../../actions/ListTypeProductAction\";\r\n\r\nfunction AdminCreate(props) {\r\n  const { register, handleSubmit } = useForm({ defaultValues: {} });\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const [image, setImage] = useState(\"\");\r\n  const [activeTypeProduct, setActiveTypeproduct] = useState(\"\");\r\n  const SelectList = useSelector(state => state.selectList.List)\r\n  const { pages } = useSelector((state) => state.allProduct.product);\r\n  const { List } = useSelector((state) => state.allTypeProduct);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllSelectList());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllTypeProduct());\r\n  }, [dispatch]);\r\n\r\n  const handleFileImageChange = (e) => {\r\n    setImage(e.target.files[0]);\r\n  };\r\n\r\n  const onSubmit = async (data) => {\r\n    let formData = new FormData();\r\n\r\n    formData.append(\"name\", data.name);\r\n    formData.append(\"price\", data.price);\r\n    formData.append(\"amount\", data.amount);\r\n    formData.append(\"salePrice\", data.salePrice);\r\n    formData.append(\"type\", activeTypeProduct);\r\n    formData.append(\"image\", image);\r\n\r\n    formData.append(\"os\", data.os);\r\n    formData.append(\"ram\", data.ram);\r\n    formData.append(\"battery\", data.battery);\r\n    formData.append(\"rom\", data.rom);\r\n    formData.append(\"camera\", data.camera);\r\n    formData.append(\"special\", data.special);\r\n    formData.append(\"design\", data.design);\r\n    formData.append(\"screen\", data.screen);\r\n\r\n    await dispatch(saveProduct(formData));\r\n    await dispatch(editCurrentPage(pages));\r\n    history.push(\"/admin/product\");\r\n  };\r\n\r\n  const MenuFirmProduct = (item) => (\r\n    <div\r\n      className={\r\n        activeTypeProduct === item.name\r\n          ? `filter-menu-firm-item active`\r\n          : \"filter-menu-firm-item\"\r\n      }\r\n      onClick={() => HandleFilterProductByType(item.name)}\r\n    >\r\n      <img src={item.img}></img>\r\n    </div>\r\n  );\r\n\r\n  const HandleFilterProductByType = (name) => {\r\n    setActiveTypeproduct(name);\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-create\">\r\n      <span>Create Product</span>\r\n      <form\r\n        className=\"admin-create-product\"\r\n        onSubmit={handleSubmit(onSubmit)}\r\n        encType=\"multipart/form-data\"\r\n      >\r\n        <input {...register(\"name\")} placeholder=\"Name\"></input>\r\n        <input\r\n          {...register(\"amount\")}\r\n          placeholder=\"Amount\"\r\n          type=\"number\"\r\n        ></input>\r\n        <input {...register(\"price\")} placeholder=\"Price\" type=\"number\"></input>\r\n        <input\r\n          {...register(\"salePrice\")}\r\n          placeholder=\"SalePrice\"\r\n          type=\"number\"\r\n        ></input>\r\n\r\n        <div className=\"filter-menu-firm\">\r\n          {\r\n            List ? (List.map((item) => MenuFirmProduct(item))) : ''\r\n          }\r\n        </div>\r\n\r\n        {SelectList && SelectList.length > 0\r\n          ? SelectList.map((item) => (\r\n              <div className=\"select-type\">\r\n                <select {...register(`${item.property}`)}>\r\n                  <option>{item.name}</option>\r\n                  {item.options.map((x) => (\r\n                    <option value={x}>{x}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            ))\r\n          : \"\"}\r\n\r\n        <input\r\n          type=\"file\"\r\n          {...register(\"image\")}\r\n          onChange={handleFileImageChange}\r\n        ></input>\r\n        <button type=\"submit\">Add Product</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminCreate;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}