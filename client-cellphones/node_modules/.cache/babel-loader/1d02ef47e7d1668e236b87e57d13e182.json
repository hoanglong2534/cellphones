{"ast":null,"code":"import _objectSpread from \"C:/Users/admin/Download/project-long/cellphones/client-cellphones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\admin\\\\Download\\\\project-long\\\\cellphones\\\\client-cellphones\\\\src\\\\components\\\\ARViewer\\\\R3FXRViewer.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SpinningBox(props) {\n  _s();\n  const meshRef = useRef();\n  useFrame((_state, delta) => {\n    if (meshRef.current) {\n      meshRef.current.rotation.x += delta * 0.5;\n      meshRef.current.rotation.y += delta * 0.8;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"mesh\", _objectSpread(_objectSpread({\n    ref: meshRef\n  }, props), {}, {\n    children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n      args: [0.25, 0.25, 0.25]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n      color: \"#4CC3D9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this);\n}\n_s(SpinningBox, \"/vg1AmA8+P3+Fj0/y210JTVKtL0=\", false, function () {\n  return [useFrame];\n});\n_c = SpinningBox;\nfunction ProductModel(_ref) {\n  _s2();\n  let {\n    url,\n    scale = 0.5\n  } = _ref;\n  const groupRef = useRef();\n  const [sceneObj, setSceneObj] = useState(null);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    let cancelled = false;\n    async function load() {\n      try {\n        const mod = await import('three/examples/jsm/loaders/GLTFLoader.js');\n        const GLTFLoader = mod.GLTFLoader || mod.default;\n        const loader = new GLTFLoader();\n        loader.load(url, gltf => {\n          var _gltf$scenes;\n          if (cancelled) return;\n          const obj = gltf.scene || ((_gltf$scenes = gltf.scenes) === null || _gltf$scenes === void 0 ? void 0 : _gltf$scenes[0]);\n          if (!obj) {\n            setError('Không thể đọc model');\n            return;\n          }\n          // Center and scale roughly\n          const bbox = new THREE.Box3().setFromObject(obj);\n          const size = new THREE.Vector3();\n          bbox.getSize(size);\n          const maxDim = Math.max(size.x, size.y, size.z) || 1;\n          const desired = scale; // meters\n          const s = desired / maxDim;\n          obj.scale.setScalar(s);\n          const center = new THREE.Vector3();\n          bbox.getCenter(center);\n          obj.position.sub(center.multiplyScalar(s));\n          setSceneObj(obj);\n        }, undefined, () => {\n          if (!cancelled) setError('Lỗi khi tải model');\n        });\n      } catch (e) {\n        if (!cancelled) setError('Không tải được GLTFLoader');\n      }\n    }\n    if (url) load();\n    return () => {\n      cancelled = true;\n    };\n  }, [url, scale]);\n  if (error) return null;\n  if (!sceneObj) return null;\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    object: sceneObj\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 12\n  }, this);\n}\n_s2(ProductModel, \"VsZQFl6EiIDXZO1cLDLEc3W97dY=\");\n_c2 = ProductModel;\nexport default function R3FXRViewer(_ref2) {\n  _s3();\n  let {\n    modelUrl\n  } = _ref2;\n  const [gl, setGl] = useState(null);\n  const [arSupported, setArSupported] = useState(false);\n  const [vrSupported, setVrSupported] = useState(false);\n  useEffect(() => {\n    if (!gl) return;\n    gl.xr.enabled = true;\n  }, [gl]);\n  useEffect(() => {\n    // WebXR feature detection\n    let cancelled = false;\n    async function checkSupport() {\n      try {\n        if (navigator.xr && navigator.xr.isSessionSupported) {\n          const [arOK, vrOK] = await Promise.all([navigator.xr.isSessionSupported('immersive-ar').catch(() => false), navigator.xr.isSessionSupported('immersive-vr').catch(() => false)]);\n          if (!cancelled) {\n            setArSupported(Boolean(arOK));\n            setVrSupported(Boolean(vrOK));\n          }\n        }\n      } catch (_) {}\n    }\n    checkSupport();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n  async function enterAR() {\n    if (!gl || !navigator.xr) return;\n    try {\n      const session = await navigator.xr.requestSession('immersive-ar', {\n        requiredFeatures: ['local-floor']\n      });\n      await gl.xr.setSession(session);\n    } catch (e) {\n      // no-op\n    }\n  }\n  async function enterVR() {\n    if (!gl || !navigator.xr) return;\n    try {\n      const session = await navigator.xr.requestSession('immersive-vr', {\n        optionalFeatures: ['local-floor']\n      });\n      await gl.xr.setSession(session);\n    } catch (e) {\n      // no-op\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gap: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: 8,\n        gridTemplateColumns: '1fr 1fr'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: enterAR,\n        disabled: !arSupported || !gl,\n        className: \"btn btn-primary\",\n        children: \"ENTER AR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: enterVR,\n        disabled: !vrSupported || !gl,\n        className: \"btn btn-secondary\",\n        children: \"ENTER VR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        height: 420,\n        borderRadius: 12,\n        overflow: 'hidden',\n        border: '1px solid #333'\n      },\n      children: /*#__PURE__*/_jsxDEV(Canvas, {\n        onCreated: _ref3 => {\n          let {\n            gl: renderer,\n            scene,\n            camera\n          } = _ref3;\n          // Match device pixel ratio for clarity\n          renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n          renderer.outputEncoding = THREE.sRGBEncoding;\n          setGl(renderer);\n          // Initial camera position\n          camera.position.set(0, 0.25, 1.2);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n          intensity: 0.5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n          position: [1, 1, 1],\n          intensity: 0.8\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n          rotation: [-Math.PI / 2, 0, 0],\n          position: [0, -0.2, 0],\n          children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {\n            args: [10, 10]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n            color: \"#222\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), modelUrl ? /*#__PURE__*/_jsxDEV(\"group\", {\n          position: [0, 0.1, 0],\n          children: /*#__PURE__*/_jsxDEV(ProductModel, {\n            url: modelUrl,\n            scale: 0.4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(SpinningBox, {\n          position: [0, 0, 0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: 14,\n        color: '#888',\n        margin: 0\n      },\n      children: \"G\\u1EE3i \\xFD: \\\"ENTER AR\\\" c\\u1EA7n thi\\u1EBFt b\\u1ECB h\\u1ED7 tr\\u1EE3 WebXR (Chrome Android). \\\"ENTER VR\\\" c\\u1EA7n tr\\xECnh duy\\u1EC7t/thi\\u1EBFt b\\u1ECB h\\u1ED7 tr\\u1EE3 VR.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n}\n_s3(R3FXRViewer, \"rG8SRjhZ5A2VRMd+WAyV9sWmdVE=\");\n_c3 = R3FXRViewer;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SpinningBox\");\n$RefreshReg$(_c2, \"ProductModel\");\n$RefreshReg$(_c3, \"R3FXRViewer\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Canvas","useFrame","THREE","jsxDEV","_jsxDEV","SpinningBox","props","_s","meshRef","_state","delta","current","rotation","x","y","_objectSpread","ref","children","args","fileName","_jsxFileName","lineNumber","columnNumber","color","_c","ProductModel","_ref","_s2","url","scale","groupRef","sceneObj","setSceneObj","error","setError","cancelled","load","mod","GLTFLoader","default","loader","gltf","_gltf$scenes","obj","scene","scenes","bbox","Box3","setFromObject","size","Vector3","getSize","maxDim","Math","max","z","desired","s","setScalar","center","getCenter","position","sub","multiplyScalar","undefined","e","object","_c2","R3FXRViewer","_ref2","_s3","modelUrl","gl","setGl","arSupported","setArSupported","vrSupported","setVrSupported","xr","enabled","checkSupport","navigator","isSessionSupported","arOK","vrOK","Promise","all","catch","Boolean","_","enterAR","session","requestSession","requiredFeatures","setSession","enterVR","optionalFeatures","style","display","gap","gridTemplateColumns","onClick","disabled","className","width","height","borderRadius","overflow","border","onCreated","_ref3","renderer","camera","setPixelRatio","min","window","devicePixelRatio","outputEncoding","sRGBEncoding","set","intensity","PI","fontSize","margin","_c3","$RefreshReg$"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/components/ARViewer/R3FXRViewer.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { Canvas, useFrame } from '@react-three/fiber';\r\nimport * as THREE from 'three';\r\n\r\nfunction SpinningBox(props) {\r\n    const meshRef = useRef();\r\n    useFrame((_state, delta) => {\r\n        if (meshRef.current) {\r\n            meshRef.current.rotation.x += delta * 0.5;\r\n            meshRef.current.rotation.y += delta * 0.8;\r\n        }\r\n    });\r\n    return (\r\n        <mesh ref={meshRef} {...props}>\r\n            <boxGeometry args={[0.25, 0.25, 0.25]} />\r\n            <meshStandardMaterial color=\"#4CC3D9\" />\r\n        </mesh>\r\n    );\r\n}\r\n\r\nfunction ProductModel({ url, scale = 0.5 }) {\r\n    const groupRef = useRef();\r\n    const [sceneObj, setSceneObj] = useState(null);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        let cancelled = false;\r\n        async function load() {\r\n            try {\r\n                const mod = await import('three/examples/jsm/loaders/GLTFLoader.js');\r\n                const GLTFLoader = mod.GLTFLoader || mod.default;\r\n                const loader = new GLTFLoader();\r\n                loader.load(\r\n                    url,\r\n                    (gltf) => {\r\n                        if (cancelled) return;\r\n                        const obj = gltf.scene || gltf.scenes?.[0];\r\n                        if (!obj) {\r\n                            setError('Không thể đọc model');\r\n                            return;\r\n                        }\r\n                        // Center and scale roughly\r\n                        const bbox = new THREE.Box3().setFromObject(obj);\r\n                        const size = new THREE.Vector3();\r\n                        bbox.getSize(size);\r\n                        const maxDim = Math.max(size.x, size.y, size.z) || 1;\r\n                        const desired = scale; // meters\r\n                        const s = desired / maxDim;\r\n                        obj.scale.setScalar(s);\r\n                        const center = new THREE.Vector3();\r\n                        bbox.getCenter(center);\r\n                        obj.position.sub(center.multiplyScalar(s));\r\n                        setSceneObj(obj);\r\n                    },\r\n                    undefined,\r\n                    () => {\r\n                        if (!cancelled) setError('Lỗi khi tải model');\r\n                    }\r\n                );\r\n            } catch (e) {\r\n                if (!cancelled) setError('Không tải được GLTFLoader');\r\n            }\r\n        }\r\n        if (url) load();\r\n        return () => { cancelled = true; };\r\n    }, [url, scale]);\r\n\r\n    if (error) return null;\r\n    if (!sceneObj) return null;\r\n    return <primitive object={sceneObj} />;\r\n}\r\n\r\nexport default function R3FXRViewer({ modelUrl }) {\r\n    const [gl, setGl] = useState(null);\r\n    const [arSupported, setArSupported] = useState(false);\r\n    const [vrSupported, setVrSupported] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!gl) return;\r\n        gl.xr.enabled = true;\r\n    }, [gl]);\r\n\r\n    useEffect(() => {\r\n        // WebXR feature detection\r\n        let cancelled = false;\r\n        async function checkSupport() {\r\n            try {\r\n                if (navigator.xr && navigator.xr.isSessionSupported) {\r\n                    const [arOK, vrOK] = await Promise.all([\r\n                        navigator.xr.isSessionSupported('immersive-ar').catch(() => false),\r\n                        navigator.xr.isSessionSupported('immersive-vr').catch(() => false)\r\n                    ]);\r\n                    if (!cancelled) {\r\n                        setArSupported(Boolean(arOK));\r\n                        setVrSupported(Boolean(vrOK));\r\n                    }\r\n                }\r\n            } catch (_) {}\r\n        }\r\n        checkSupport();\r\n        return () => { cancelled = true; };\r\n    }, []);\r\n\r\n    async function enterAR() {\r\n        if (!gl || !navigator.xr) return;\r\n        try {\r\n            const session = await navigator.xr.requestSession('immersive-ar', {\r\n                requiredFeatures: ['local-floor']\r\n            });\r\n            await gl.xr.setSession(session);\r\n        } catch (e) {\r\n            // no-op\r\n        }\r\n    }\r\n\r\n    async function enterVR() {\r\n        if (!gl || !navigator.xr) return;\r\n        try {\r\n            const session = await navigator.xr.requestSession('immersive-vr', {\r\n                optionalFeatures: ['local-floor']\r\n            });\r\n            await gl.xr.setSession(session);\r\n        } catch (e) {\r\n            // no-op\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{ display: 'grid', gap: 12 }}>\r\n            <div style={{ display: 'grid', gap: 8, gridTemplateColumns: '1fr 1fr' }}>\r\n                <button onClick={enterAR} disabled={!arSupported || !gl} className=\"btn btn-primary\">ENTER AR</button>\r\n                <button onClick={enterVR} disabled={!vrSupported || !gl} className=\"btn btn-secondary\">ENTER VR</button>\r\n            </div>\r\n\r\n            <div style={{ width: '100%', height: 420, borderRadius: 12, overflow: 'hidden', border: '1px solid #333' }}>\r\n                <Canvas onCreated={({ gl: renderer, scene, camera }) => {\r\n                    // Match device pixel ratio for clarity\r\n                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n                    renderer.outputEncoding = THREE.sRGBEncoding;\r\n                    setGl(renderer);\r\n                    // Initial camera position\r\n                    camera.position.set(0, 0.25, 1.2);\r\n                }}>\r\n                    <ambientLight intensity={0.5} />\r\n                    <directionalLight position={[1, 1, 1]} intensity={0.8} />\r\n\r\n                    {/* Ground (only visible in VR/desktop) */}\r\n                    <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, -0.2, 0]}>\r\n                        <planeGeometry args={[10, 10]} />\r\n                        <meshStandardMaterial color=\"#222\" />\r\n                    </mesh>\r\n\r\n                    {modelUrl ? (\r\n                        <group position={[0, 0.1, 0]}>\r\n                            <ProductModel url={modelUrl} scale={0.4} />\r\n                        </group>\r\n                    ) : (\r\n                        <SpinningBox position={[0, 0, 0]} />\r\n                    )}\r\n                </Canvas>\r\n            </div>\r\n\r\n            <p style={{ fontSize: 14, color: '#888', margin: 0 }}>\r\n                Gợi ý: \"ENTER AR\" cần thiết bị hỗ trợ WebXR (Chrome Android). \"ENTER VR\" cần trình duyệt/thiết bị hỗ trợ VR.\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnE,SAASC,MAAM,EAAEC,QAAQ,QAAQ,oBAAoB;AACrD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,SAASC,WAAWA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACxB,MAAMC,OAAO,GAAGV,MAAM,CAAC,CAAC;EACxBG,QAAQ,CAAC,CAACQ,MAAM,EAAEC,KAAK,KAAK;IACxB,IAAIF,OAAO,CAACG,OAAO,EAAE;MACjBH,OAAO,CAACG,OAAO,CAACC,QAAQ,CAACC,CAAC,IAAIH,KAAK,GAAG,GAAG;MACzCF,OAAO,CAACG,OAAO,CAACC,QAAQ,CAACE,CAAC,IAAIJ,KAAK,GAAG,GAAG;IAC7C;EACJ,CAAC,CAAC;EACF,oBACIN,OAAA,SAAAW,aAAA,CAAAA,aAAA;IAAMC,GAAG,EAAER;EAAQ,GAAKF,KAAK;IAAAW,QAAA,gBACzBb,OAAA;MAAac,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACzClB,OAAA;MAAsBmB,KAAK,EAAC;IAAS;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtC,CAAC;AAEf;AAACf,EAAA,CAdQF,WAAW;EAAA,QAEhBJ,QAAQ;AAAA;AAAAuB,EAAA,GAFHnB,WAAW;AAgBpB,SAASoB,YAAYA,CAAAC,IAAA,EAAuB;EAAAC,GAAA;EAAA,IAAtB;IAAEC,GAAG;IAAEC,KAAK,GAAG;EAAI,CAAC,GAAAH,IAAA;EACtC,MAAMI,QAAQ,GAAGhC,MAAM,CAAC,CAAC;EACzB,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGjC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACkC,KAAK,EAAEC,QAAQ,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAEtCH,SAAS,CAAC,MAAM;IACZ,IAAIuC,SAAS,GAAG,KAAK;IACrB,eAAeC,IAAIA,CAAA,EAAG;MAClB,IAAI;QACA,MAAMC,GAAG,GAAG,MAAM,MAAM,CAAC,0CAA0C,CAAC;QACpE,MAAMC,UAAU,GAAGD,GAAG,CAACC,UAAU,IAAID,GAAG,CAACE,OAAO;QAChD,MAAMC,MAAM,GAAG,IAAIF,UAAU,CAAC,CAAC;QAC/BE,MAAM,CAACJ,IAAI,CACPR,GAAG,EACFa,IAAI,IAAK;UAAA,IAAAC,YAAA;UACN,IAAIP,SAAS,EAAE;UACf,MAAMQ,GAAG,GAAGF,IAAI,CAACG,KAAK,MAAAF,YAAA,GAAID,IAAI,CAACI,MAAM,cAAAH,YAAA,uBAAXA,YAAA,CAAc,CAAC,CAAC;UAC1C,IAAI,CAACC,GAAG,EAAE;YACNT,QAAQ,CAAC,qBAAqB,CAAC;YAC/B;UACJ;UACA;UACA,MAAMY,IAAI,GAAG,IAAI5C,KAAK,CAAC6C,IAAI,CAAC,CAAC,CAACC,aAAa,CAACL,GAAG,CAAC;UAChD,MAAMM,IAAI,GAAG,IAAI/C,KAAK,CAACgD,OAAO,CAAC,CAAC;UAChCJ,IAAI,CAACK,OAAO,CAACF,IAAI,CAAC;UAClB,MAAMG,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACL,IAAI,CAACpC,CAAC,EAAEoC,IAAI,CAACnC,CAAC,EAAEmC,IAAI,CAACM,CAAC,CAAC,IAAI,CAAC;UACpD,MAAMC,OAAO,GAAG3B,KAAK,CAAC,CAAC;UACvB,MAAM4B,CAAC,GAAGD,OAAO,GAAGJ,MAAM;UAC1BT,GAAG,CAACd,KAAK,CAAC6B,SAAS,CAACD,CAAC,CAAC;UACtB,MAAME,MAAM,GAAG,IAAIzD,KAAK,CAACgD,OAAO,CAAC,CAAC;UAClCJ,IAAI,CAACc,SAAS,CAACD,MAAM,CAAC;UACtBhB,GAAG,CAACkB,QAAQ,CAACC,GAAG,CAACH,MAAM,CAACI,cAAc,CAACN,CAAC,CAAC,CAAC;UAC1CzB,WAAW,CAACW,GAAG,CAAC;QACpB,CAAC,EACDqB,SAAS,EACT,MAAM;UACF,IAAI,CAAC7B,SAAS,EAAED,QAAQ,CAAC,mBAAmB,CAAC;QACjD,CACJ,CAAC;MACL,CAAC,CAAC,OAAO+B,CAAC,EAAE;QACR,IAAI,CAAC9B,SAAS,EAAED,QAAQ,CAAC,2BAA2B,CAAC;MACzD;IACJ;IACA,IAAIN,GAAG,EAAEQ,IAAI,CAAC,CAAC;IACf,OAAO,MAAM;MAAED,SAAS,GAAG,IAAI;IAAE,CAAC;EACtC,CAAC,EAAE,CAACP,GAAG,EAAEC,KAAK,CAAC,CAAC;EAEhB,IAAII,KAAK,EAAE,OAAO,IAAI;EACtB,IAAI,CAACF,QAAQ,EAAE,OAAO,IAAI;EAC1B,oBAAO3B,OAAA;IAAW8D,MAAM,EAAEnC;EAAS;IAAAZ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC1C;AAACK,GAAA,CAlDQF,YAAY;AAAA0C,GAAA,GAAZ1C,YAAY;AAoDrB,eAAe,SAAS2C,WAAWA,CAAAC,KAAA,EAAe;EAAAC,GAAA;EAAA,IAAd;IAAEC;EAAS,CAAC,GAAAF,KAAA;EAC5C,MAAM,CAACG,EAAE,EAAEC,KAAK,CAAC,GAAG1E,QAAQ,CAAC,IAAI,CAAC;EAClC,MAAM,CAAC2E,WAAW,EAAEC,cAAc,CAAC,GAAG5E,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC6E,WAAW,EAAEC,cAAc,CAAC,GAAG9E,QAAQ,CAAC,KAAK,CAAC;EAErDH,SAAS,CAAC,MAAM;IACZ,IAAI,CAAC4E,EAAE,EAAE;IACTA,EAAE,CAACM,EAAE,CAACC,OAAO,GAAG,IAAI;EACxB,CAAC,EAAE,CAACP,EAAE,CAAC,CAAC;EAER5E,SAAS,CAAC,MAAM;IACZ;IACA,IAAIuC,SAAS,GAAG,KAAK;IACrB,eAAe6C,YAAYA,CAAA,EAAG;MAC1B,IAAI;QACA,IAAIC,SAAS,CAACH,EAAE,IAAIG,SAAS,CAACH,EAAE,CAACI,kBAAkB,EAAE;UACjD,MAAM,CAACC,IAAI,EAAEC,IAAI,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACnCL,SAAS,CAACH,EAAE,CAACI,kBAAkB,CAAC,cAAc,CAAC,CAACK,KAAK,CAAC,MAAM,KAAK,CAAC,EAClEN,SAAS,CAACH,EAAE,CAACI,kBAAkB,CAAC,cAAc,CAAC,CAACK,KAAK,CAAC,MAAM,KAAK,CAAC,CACrE,CAAC;UACF,IAAI,CAACpD,SAAS,EAAE;YACZwC,cAAc,CAACa,OAAO,CAACL,IAAI,CAAC,CAAC;YAC7BN,cAAc,CAACW,OAAO,CAACJ,IAAI,CAAC,CAAC;UACjC;QACJ;MACJ,CAAC,CAAC,OAAOK,CAAC,EAAE,CAAC;IACjB;IACAT,YAAY,CAAC,CAAC;IACd,OAAO,MAAM;MAAE7C,SAAS,GAAG,IAAI;IAAE,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeuD,OAAOA,CAAA,EAAG;IACrB,IAAI,CAAClB,EAAE,IAAI,CAACS,SAAS,CAACH,EAAE,EAAE;IAC1B,IAAI;MACA,MAAMa,OAAO,GAAG,MAAMV,SAAS,CAACH,EAAE,CAACc,cAAc,CAAC,cAAc,EAAE;QAC9DC,gBAAgB,EAAE,CAAC,aAAa;MACpC,CAAC,CAAC;MACF,MAAMrB,EAAE,CAACM,EAAE,CAACgB,UAAU,CAACH,OAAO,CAAC;IACnC,CAAC,CAAC,OAAO1B,CAAC,EAAE;MACR;IAAA;EAER;EAEA,eAAe8B,OAAOA,CAAA,EAAG;IACrB,IAAI,CAACvB,EAAE,IAAI,CAACS,SAAS,CAACH,EAAE,EAAE;IAC1B,IAAI;MACA,MAAMa,OAAO,GAAG,MAAMV,SAAS,CAACH,EAAE,CAACc,cAAc,CAAC,cAAc,EAAE;QAC9DI,gBAAgB,EAAE,CAAC,aAAa;MACpC,CAAC,CAAC;MACF,MAAMxB,EAAE,CAACM,EAAE,CAACgB,UAAU,CAACH,OAAO,CAAC;IACnC,CAAC,CAAC,OAAO1B,CAAC,EAAE;MACR;IAAA;EAER;EAEA,oBACI7D,OAAA;IAAK6F,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,GAAG,EAAE;IAAG,CAAE;IAAAlF,QAAA,gBACrCb,OAAA;MAAK6F,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,GAAG,EAAE,CAAC;QAAEC,mBAAmB,EAAE;MAAU,CAAE;MAAAnF,QAAA,gBACpEb,OAAA;QAAQiG,OAAO,EAAEX,OAAQ;QAACY,QAAQ,EAAE,CAAC5B,WAAW,IAAI,CAACF,EAAG;QAAC+B,SAAS,EAAC,iBAAiB;QAAAtF,QAAA,EAAC;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACtGlB,OAAA;QAAQiG,OAAO,EAAEN,OAAQ;QAACO,QAAQ,EAAE,CAAC1B,WAAW,IAAI,CAACJ,EAAG;QAAC+B,SAAS,EAAC,mBAAmB;QAAAtF,QAAA,EAAC;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvG,CAAC,eAENlB,OAAA;MAAK6F,KAAK,EAAE;QAAEO,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE,GAAG;QAAEC,YAAY,EAAE,EAAE;QAAEC,QAAQ,EAAE,QAAQ;QAAEC,MAAM,EAAE;MAAiB,CAAE;MAAA3F,QAAA,eACvGb,OAAA,CAACJ,MAAM;QAAC6G,SAAS,EAAEC,KAAA,IAAqC;UAAA,IAApC;YAAEtC,EAAE,EAAEuC,QAAQ;YAAEnE,KAAK;YAAEoE;UAAO,CAAC,GAAAF,KAAA;UAC/C;UACAC,QAAQ,CAACE,aAAa,CAAC5D,IAAI,CAAC6D,GAAG,CAACC,MAAM,CAACC,gBAAgB,EAAE,CAAC,CAAC,CAAC;UAC5DL,QAAQ,CAACM,cAAc,GAAGnH,KAAK,CAACoH,YAAY;UAC5C7C,KAAK,CAACsC,QAAQ,CAAC;UACf;UACAC,MAAM,CAACnD,QAAQ,CAAC0D,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC;QACrC,CAAE;QAAAtG,QAAA,gBACEb,OAAA;UAAcoH,SAAS,EAAE;QAAI;UAAArG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAChClB,OAAA;UAAkByD,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;UAAC2D,SAAS,EAAE;QAAI;UAAArG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAGzDlB,OAAA;UAAMQ,QAAQ,EAAE,CAAC,CAACyC,IAAI,CAACoE,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;UAAC5D,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAE;UAAA5C,QAAA,gBACzDb,OAAA;YAAec,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACjClB,OAAA;YAAsBmB,KAAK,EAAC;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,EAENiD,QAAQ,gBACLnE,OAAA;UAAOyD,QAAQ,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAE;UAAA5C,QAAA,eACzBb,OAAA,CAACqB,YAAY;YAACG,GAAG,EAAE2C,QAAS;YAAC1C,KAAK,EAAE;UAAI;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC,gBAERlB,OAAA,CAACC,WAAW;UAACwD,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;QAAE;UAAA1C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CACtC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,eAENlB,OAAA;MAAG6F,KAAK,EAAE;QAAEyB,QAAQ,EAAE,EAAE;QAAEnG,KAAK,EAAE,MAAM;QAAEoG,MAAM,EAAE;MAAE,CAAE;MAAA1G,QAAA,EAAC;IAEtD;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEd;AAACgD,GAAA,CA/FuBF,WAAW;AAAAwD,GAAA,GAAXxD,WAAW;AAAA,IAAA5C,EAAA,EAAA2C,GAAA,EAAAyD,GAAA;AAAAC,YAAA,CAAArG,EAAA;AAAAqG,YAAA,CAAA1D,GAAA;AAAA0D,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}