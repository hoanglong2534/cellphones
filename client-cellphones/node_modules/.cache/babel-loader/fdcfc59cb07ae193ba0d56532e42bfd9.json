{"ast":null,"code":"import _objectSpread from\"C:/Users/admin/Download/project-long/cellphones/client-cellphones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect,useState}from\"react\";import{Dropdown}from\"antd\";import{DownOutlined}from\"@ant-design/icons\";import{useDispatch,useSelector}from\"react-redux\";import{deleteSelectListItemById,getAllSelectList,UpdateSelectListItem}from\"../../../../../actions/SelectListAction\";import{Modal}from\"antd\";import{CloseOutlined}from\"@ant-design/icons\";import{useForm}from\"react-hook-form\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function FilterMenu(){const dispatch=useDispatch();const{register,handleSubmit}=useForm();const[chooseSelectItem,setChooseSelectItem]=useState(undefined);const[isModalVisible,setIsModalVisible]=useState(false);const filterMenuList=useSelector(state=>state.selectList.List);useEffect(()=>{dispatch(getAllSelectList());},[dispatch]);const showModal=item=>{setChooseSelectItem(item);setIsModalVisible(true);};const handleCancel=()=>{setIsModalVisible(false);setChooseSelectItem(undefined);};const handleAddOption=()=>{const newOption=\"\";setChooseSelectItem(_objectSpread(_objectSpread({},chooseSelectItem),{},{options:[...chooseSelectItem.options,newOption]}));};const handleRemoveOption=(option,index)=>{let newChooseSelectItem=_objectSpread({},chooseSelectItem);const newOptions=newChooseSelectItem.options.filter((item,indexItem)=>indexItem!==index);setChooseSelectItem(_objectSpread(_objectSpread({},chooseSelectItem),{},{options:newOptions}));};const handleChangeValueOption=(option,index,e)=>{const content=e.target.value;let newChooseSelectItem=_objectSpread({},chooseSelectItem);newChooseSelectItem.options[index]=content;setChooseSelectItem(newChooseSelectItem);};const onSubmit=async(data,e)=>{await dispatch(UpdateSelectListItem(chooseSelectItem));handleCancel();dispatch(getAllSelectList());};const filterMenuItemAntd=item=>/*#__PURE__*/_jsx(\"div\",{className:\"filter-menu-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"filter-menu-item-name\",children:/*#__PURE__*/_jsx(Dropdown,{overlay:menuShow(item),trigger:[\"click\"],children:/*#__PURE__*/_jsxs(\"span\",{className:\"ant-dropdown-link\",children:[item.name,/*#__PURE__*/_jsx(DownOutlined,{})]})})})});const removeSelectItem=async item=>{await dispatch(deleteSelectListItemById(item._id));dispatch(getAllSelectList());};const menuShow=menuItem=>/*#__PURE__*/_jsxs(\"div\",{className:\"menu-show\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu-show-list\",children:menuItem.options.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"menu-show-item\",children:item}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-show-btn\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cancel\",onClick:()=>showModal(menuItem),children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel\",onClick:()=>removeSelectItem(menuItem),children:\" Delete\"})]})]});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"filter-menu\",children:[filterMenuList&&filterMenuList.length>0?filterMenuList.map(item=>filterMenuItemAntd(item)):\"\",chooseSelectItem?/*#__PURE__*/_jsx(Modal,{title:\"Update \".concat(chooseSelectItem.name),visible:isModalVisible,onCancel:handleCancel,footer:false,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"form-update-select\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"name\")),{},{placeholder:\"Name ... \",defaultValue:chooseSelectItem.name})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"property\")),{},{placeholder:\"Property ...\",defaultValue:chooseSelectItem.property})),/*#__PURE__*/_jsx(\"div\",{className:\"option-list\",children:chooseSelectItem.options.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"option-list-item\",children:[/*#__PURE__*/_jsx(\"input\",{value:option,placeholder:\"Option ...\",onChange:e=>{handleChangeValueOption(option,index,e);}}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>handleRemoveOption(option,index),children:/*#__PURE__*/_jsx(CloseOutlined,{})})]},index))}),/*#__PURE__*/_jsx(\"span\",{onClick:handleAddOption,children:\"Add Options\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]})}):\"\"]})});}","map":{"version":3,"names":["React","useEffect","useState","Dropdown","DownOutlined","useDispatch","useSelector","deleteSelectListItemById","getAllSelectList","UpdateSelectListItem","Modal","CloseOutlined","useForm","jsx","_jsx","jsxs","_jsxs","FilterMenu","dispatch","register","handleSubmit","chooseSelectItem","setChooseSelectItem","undefined","isModalVisible","setIsModalVisible","filterMenuList","state","selectList","List","showModal","item","handleCancel","handleAddOption","newOption","_objectSpread","options","handleRemoveOption","option","index","newChooseSelectItem","newOptions","filter","indexItem","handleChangeValueOption","e","content","target","value","onSubmit","data","filterMenuItemAntd","className","children","overlay","menuShow","trigger","name","removeSelectItem","_id","menuItem","map","onClick","length","title","concat","visible","onCancel","footer","placeholder","defaultValue","property","onChange","type"],"sources":["C:/Users/admin/Download/project-long/cellphones/client-cellphones/src/components/Admin/components/AdminProduct/DataFilterProduct/FilterMenu.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Dropdown } from \"antd\";\r\nimport { DownOutlined } from \"@ant-design/icons\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  deleteSelectListItemById,\r\n  getAllSelectList,\r\n  UpdateSelectListItem,\r\n} from \"../../../../../actions/SelectListAction\";\r\nimport { Modal } from \"antd\";\r\nimport { CloseOutlined } from \"@ant-design/icons\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nexport default function FilterMenu() {\r\n  const dispatch = useDispatch();\r\n  const { register, handleSubmit } = useForm();\r\n\r\n  const [chooseSelectItem, setChooseSelectItem] = useState(undefined);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const filterMenuList = useSelector((state) => state.selectList.List);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllSelectList());\r\n  }, [dispatch]);\r\n\r\n  const showModal = (item) => {\r\n    setChooseSelectItem(item);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setChooseSelectItem(undefined);\r\n  };\r\n\r\n  const handleAddOption = () => {\r\n    const newOption = \"\";\r\n    setChooseSelectItem({\r\n      ...chooseSelectItem,\r\n      options: [...chooseSelectItem.options, newOption],\r\n    });\r\n  };\r\n\r\n  const handleRemoveOption = (option, index) => {\r\n    let newChooseSelectItem = { ...chooseSelectItem };\r\n    const newOptions = newChooseSelectItem.options.filter(\r\n      (item, indexItem) => indexItem !== index\r\n    );\r\n    setChooseSelectItem({ ...chooseSelectItem, options: newOptions });\r\n  };\r\n\r\n  const handleChangeValueOption = (option, index, e) => {\r\n    const content = e.target.value;\r\n    let newChooseSelectItem = { ...chooseSelectItem };\r\n    newChooseSelectItem.options[index] = content;\r\n\r\n    setChooseSelectItem(newChooseSelectItem);\r\n  };\r\n\r\n  const onSubmit = async (data, e) => {\r\n    await dispatch(UpdateSelectListItem(chooseSelectItem));\r\n    handleCancel()\r\n    dispatch(getAllSelectList())\r\n  };\r\n\r\n  const filterMenuItemAntd = (item) => (\r\n    <div className=\"filter-menu-item\">\r\n      <div className={`filter-menu-item-name`}>\r\n        <Dropdown overlay={menuShow(item)} trigger={[\"click\"]}>\r\n          <span className=\"ant-dropdown-link\">\r\n            {item.name}\r\n            <DownOutlined />\r\n          </span>\r\n        </Dropdown>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const removeSelectItem = async (item) => {\r\n    await dispatch(deleteSelectListItemById(item._id))\r\n    dispatch(getAllSelectList())\r\n  }\r\n\r\n  const menuShow = (menuItem) => (\r\n    <div className=\"menu-show\">\r\n      <div className=\"menu-show-list\">\r\n        {menuItem.options.map((item) => (\r\n          <div className={`menu-show-item`}>{item}</div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"menu-show-btn\">\r\n        <button className=\"cancel\" onClick={() => showModal(menuItem)}>\r\n          Update\r\n        </button>\r\n        <button className=\"cancel\" onClick={() => removeSelectItem(menuItem)}> Delete</button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"filter-menu\">\r\n        {filterMenuList && filterMenuList.length > 0\r\n          ? filterMenuList.map((item) => filterMenuItemAntd(item))\r\n          : \"\"}\r\n        {chooseSelectItem ? (\r\n          <Modal\r\n            title={`Update ${chooseSelectItem.name}`}\r\n            visible={isModalVisible}\r\n            onCancel={handleCancel}\r\n            footer={false}\r\n          >\r\n            <form\r\n              onSubmit={handleSubmit(onSubmit)}\r\n              className=\"form-update-select\"\r\n            >\r\n              <input\r\n                {...register(\"name\")}\r\n                placeholder=\"Name ... \"\r\n                defaultValue={chooseSelectItem.name}\r\n              />\r\n              <input\r\n                {...register(\"property\")}\r\n                placeholder=\"Property ...\"\r\n                defaultValue={chooseSelectItem.property}\r\n              />\r\n              <div className=\"option-list\">\r\n                {chooseSelectItem.options.map((option, index) => (\r\n                  <div className=\"option-list-item\" key={index}>\r\n                    <input\r\n                      value={option}\r\n                      placeholder=\"Option ...\"\r\n                      onChange={(e) => {\r\n                        handleChangeValueOption(option, index, e);\r\n                      }}\r\n                    />\r\n                    <span onClick={() => handleRemoveOption(option, index)}>\r\n                      <CloseOutlined />\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <span onClick={handleAddOption}>Add Options</span>\r\n              <button type=\"submit\">Add</button>\r\n            </form>\r\n          </Modal>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}